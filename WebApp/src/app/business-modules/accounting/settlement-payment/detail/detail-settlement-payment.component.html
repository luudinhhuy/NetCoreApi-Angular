<app-sub-header></app-sub-header>
<div class="m-content">
    <div class="m-portlet">
        <div class="m-form">
            <div class="m-portlet__body">
                <settle-payment-form-create (onChangeCurrency)="onChangeCurrency($event)"></settle-payment-form-create>
                <div class="row" *ngIf="!!settlementPayment">
                    <div class="col-6">
                        <div class="m--align-left">
                            Created: {{settlementPayment.settlement.datetimeCreated | date: 'dd/MM/yyyy HH:mm'}}
                            &nbsp;
                            By <span class="text-success">{{settlementPayment.settlement.userCreated}}</span>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="m--align-left">
                            Modified: {{settlementPayment.settlement.datetimeModified | date: 'dd/MM/yyyy HH:mm'}}
                            &nbsp;
                            By <span class="text-success">{{settlementPayment.settlement.userCreated}}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="m-portlet">
        <div class="m-form">
            <div class="m-portlet__body">
               
                <settle-payment-list-charge></settle-payment-list-charge>
                
                <div class="row">
                    <div class="col-12">
                        <div class="m--align-center m--margin-top-20">
                            <button
                                class="btn btn-primary m-btn--square m-btn--icon m-btn--uppercase m--margin-right-10"
                                title="Save" (click)="updateSettlement()">
                                <span>
                                    <i class="la la-save"></i>
                                    <span>
                                        Save
                                    </span>
                                </span>
                            </button>
                            <button
                                class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase m--margin-right-10"
                                title="Save & Send Request" (click)="saveAndSendRequest()">
                                <span>
                                    <i class="la la-download"></i>
                                    <span>
                                        Save & Send Request
                                    </span>
                                </span>
                            </button>
                            <button class="btn btn-cancel m-btn--square m-btn--icon m-btn--uppercase m--margin-right-10" title="Preview"
                                (click)="preview()">
                                <span>
                                    <i class="la la-print"></i>
                                    <span>
                                        Preview
                                    </span>
                                </span>
                            </button>
                            <button class="btn btn-default m-btn--square m-btn--icon m-btn--uppercase" title="Cancel"
                                (click)="back()">
                                <span>
                                    <i class="la la-ban"></i>
                                    <span>
                                        Cancel
                                    </span>
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-container *ngIf="dataReport">
    <app-report-preview [data]="dataReport"></app-report-preview>
</ng-container>