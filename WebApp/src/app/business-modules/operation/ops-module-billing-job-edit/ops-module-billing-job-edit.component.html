<!--begin:: subheader-->
<div class="m-subheader">
    <div class="d-flex align-items-center">
        <div class="mr-auto">
            <app-breadcrumb></app-breadcrumb>
        </div>
        <div class="c-button-actions">
            <button type="button" class="btn btn-danger m-btn--square m-btn--icon m-btn--uppercase">
                <span>
                    <i class="la la-trash"></i>
                    <span>
                        delete
                    </span>
                </span>
            </button>
        </div>
    </div>
</div>
<!--end:: subheader-->

<!--begin:: m-content -->
<div class="m-content">
    <div class="row">
        <div class="col-12">
            <ul class="nav nav-tabs m-tabs m-tabs-line m-tabs-line--brand" role="tablist">
                <li class="nav-item m-tabs__item">
                    <a class="nav-link m-tabs__link active" id="" href="#billing-job-detail-tabview-tab"
                        data-toggle="tab" role="tab">
                        Job detail
                    </a>
                </li>
                <li class="nav-item m-tabs__item">
                    <a class="nav-link m-tabs__link" id="" href="#custom-declaration-tabview-tab" data-toggle="tab"
                        role="tab">
                        Custom declaration
                    </a>
                </li>
                <li class="nav-item m-tabs__item">
                    <a class="nav-link m-tabs__link" id="" href="#credit-debit-note-tabview-tab" data-toggle="tab"
                        role="tab">
                        Credit Note & Debit Note
                    </a>

                </li>
                <li class="nav-item m-tabs__item">
                    <a class="nav-link m-tabs__link" id="" href="#stage-management-tabview-tab" data-toggle="tab"
                        role="tab">
                        Stage management
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!--begin:: tab-content -->
    <div class="tab-content" id="">
        <!--begin:: billing-job-detail-tabview-tab -->
        <div class="tab-pane fade show active" role="tabpanel" id="billing-job-detail-tabview-tab">
            <!--begin::Form-->
            <form novalidate #addOpsForm="ngForm" name="addOpsForm" (ngSubmit)="addOpsForm.form.valid">

                <div class="m-form m-form--state">
                    <!--begin::m-portlet -->
                    <div class="m-portlet">
                        <div class="alert-block__heading">
                            <h3 class="alert-block__title">Job Information</h3>
                        </div>
                        <div class="m-portlet__body">
                            <!--begin:: form-actions-->
                            <div class="form-actions m--align-right">
                                <button type="" class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase"
                                    (click)="saveShipment(addOpsForm)">
                                    <span>
                                        <i class="la la la-save"></i>
                                        <span>
                                            save detail
                                        </span>
                                    </span>
                                </button>
                                <button type="button" class="btn btn-cancel m-btn--square m-btn--icon m-btn--uppercase"
                                    data-toggle="modal" data-target="#cancel-create-ops-job-modal">
                                    <span>
                                        <i class="la la-ban"></i>
                                        <span>
                                            cancel
                                        </span>
                                    </span>
                                </button>
                            </div>
                            <!--end:: form-actions-->
                            <!--begin:: General Information -->
                            <div class="div-inside bg-secondary m--margin-bottom-15">
                                <h3 class="c-block-title">General Information</h3>
                                <hr>
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Job ID
                                                <!-- <span class="m--font-danger">(*)</span> -->
                                            </label>
                                            <input type="text" required class="form-control m-input m-input--square"
                                                placeholder="Enter text" name="jobNo" disabled=true
                                                [(ngModel)]="opsTransaction.jobNo" #jobNo="ngModel">
                                            <!-- <div class="form-control-feedback" style="display: none">
                                                    HBL No is required!
                                                </div> -->
                                        </div>
                                    </div>
                                    <!-- <div class="col-lg-4">
                                            <div class="form-group">
                                                <label class="form-control-label" for="">
                                                    MBL No
                                                </label>
                                                <input type="text" required class="form-control m-input m-input--square"
                                                    placeholder="Enter text" name="">
                                            </div>
                                        </div> -->
                                    <div class="col-lg-4">
                                        <div class="form-group"
                                            [ngClass]="{'m-form__group has-danger':addOpsForm.submitted && opsTransaction.serviceDate == null}">
                                            <label class="form-control-label" for="">
                                                Service Date <span class="m--font-danger">(*)</span>
                                            </label>
                                            <div class="m-input-icon m-input-icon--right down">
                                                <input type="text" class="form-control m-input m-input--square"
                                                    ngxDaterangepickerMd [autoApply]="true"
                                                    [locale]="{applyLabel: 'ok', format: 'DD/MM/YYYY'}"
                                                    [(ngModel)]="opsTransaction.serviceDate" [singleDatePicker]="true"
                                                    name="singledater" readonly />
                                                <span class="m-input-icon__icon m-input-icon__icon--right">
                                                    <span>
                                                        <i class="la la-calendar"></i>
                                                    </span>
                                                </span>
                                            </div>
                                            <div class="form-control-feedback"
                                                *ngIf="addOpsForm.submitted && opsTransaction.serviceDate === null">
                                                Service Date is required!
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Finish Date
                                            </label>
                                            <div class="m-input-icon m-input-icon--right down">
                                                <input type="text" class="form-control m-input m-input--square"
                                                    ngxDaterangepickerMd [autoApply]="true"
                                                    [locale]="{applyLabel: 'ok', format: 'DD/MM/YYYY'}"
                                                    [(ngModel)]="opsTransaction.finishDate" [singleDatePicker]="true"
                                                    name="singledater" readonly />
                                                <span class="m-input-icon__icon m-input-icon__icon--right">
                                                    <span>
                                                        <i class="la la-calendar"></i>
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="form-group"
                                            [ngClass]="{'m-form__group has-danger':addOpsForm.submitted && opsTransaction.productService == null}">
                                            <label class="form-control-label" for="">
                                                Product Service <span class="m--font-danger">(*)</span>
                                            </label>
                                            <ng-select [allowClear]="true" [items]="productServices"
                                                (data)="refreshValue($event)" [active]="productServiceActive"
                                                (selected)="opsTransaction.productService = $event.id"
                                                (removed)="opsTransaction.productService = null" (typed)="typed($event)"
                                                placeholder="Please Select">
                                            </ng-select>
                                            <div class="form-control-feedback"
                                                *ngIf="addOpsForm.submitted && opsTransaction.productService === null">
                                                Product Service is required!
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group"
                                            [ngClass]="{'m-form__group has-danger':addOpsForm.submitted && opsTransaction.serviceMode == null}">
                                            <label class="form-control-label" for="">
                                                Service Mode <span class="m--font-danger">(*)</span>
                                            </label>
                                            <ng-select [allowClear]="true" [items]="serviceModes"
                                                (data)="refreshValue($event)" [active]="serviceModeActive"
                                                (selected)="opsTransaction.serviceMode = $event.id"
                                                (removed)="opsTransaction.serviceMode = null" (typed)="typed($event)"
                                                placeholder="Please Select">
                                            </ng-select>
                                            <div class="form-control-feedback"
                                                *ngIf="addOpsForm.submitted && opsTransaction.serviceMode === null">
                                                Service Mode is required!
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group"
                                            [ngClass]="{'m-form__group has-danger':addOpsForm.submitted && opsTransaction.shipmentMode == null}">
                                            <label class="form-control-label" for="">
                                                Shipment Mode <span class="m--font-danger">(*)</span>
                                            </label>
                                            <ng-select [allowClear]="true" [items]="shipmentModes"
                                                (data)="refreshValue($event)" [active]="shipmentModeActive"
                                                (selected)="opsTransaction.shipmentMode = $event.id"
                                                (removed)="opsTransaction.shipmentMode = null" (typed)="typed($event)"
                                                placeholder="Please Select">
                                            </ng-select>
                                            <div class="form-control-feedback"
                                                *ngIf="addOpsForm.submitted && opsTransaction.shipmentMode === null">
                                                Shipment Mode is required!
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="form-group"
                                            [ngClass]="{'m-form__group has-danger':addOpsForm.submitted && hblno.invalid}">
                                            <label class="form-control-label" for="">
                                                HBL No <span class="m--font-danger">(*)</span>
                                            </label>
                                            <input type="text" required class="form-control m-input m-input--square"
                                                placeholder="Enter text" name="hblno" [(ngModel)]="opsTransaction.hblno"
                                                #hblno="ngModel">
                                            <div class="form-control-feedback"
                                                *ngIf="addOpsForm.submitted && hblno.invalid">
                                                HBL No is required!
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                MBL No
                                            </label>
                                            <input type="text" required class="form-control m-input m-input--square"
                                                placeholder="Enter text" name="mblno" [(ngModel)]="opsTransaction.mblno"
                                                #mblno="ngModel">
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for=""
                                                [ngClass]="{'m-form__group has-danger':addOpsForm.submitted && opsTransaction.customerId == null}">
                                                Customer <span class="m--font-danger">(*)</span>
                                            </label>
                                            <app-combo-grid-virtual-scroll
                                                [currentActiveItemId]="{field:'id',value:opsTransaction.customerId}"
                                                (itemSelected)="opsTransaction.customerId = $event.id"
                                                [selectedDisplayFields]="['partnerNameEn']" [dataSources]="customers"
                                                [displayFields]="[{'field':'id','label':'Partner ID'},{'field':'shortName','label':'Name ABBR'},{'field':'partnerNameEn','label':'Name EN'},{'field':'taxCode','label':'Tax Code'}]">
                                            </app-combo-grid-virtual-scroll>
                                            <div class="form-control-feedback"
                                                *ngIf="addOpsForm.submitted && opsTransaction.customerId == null">
                                                Customer is required!
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">

                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Port of Loading
                                            </label>
                                            <app-combo-grid-virtual-scroll
                                                [currentActiveItemId]="{field:'id',value:opsTransaction.pol}"
                                                (itemSelected)="opsTransaction.pol=$event.id"
                                                [selectedDisplayFields]="['nameEn']" [dataSources]="ports"
                                                [displayFields]="[{'field':'code','label':'Port Code'},{'field':'nameEn','label':'Port Name'},{'field':'countryNameEN','label':'Country'}]">
                                            </app-combo-grid-virtual-scroll>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Port of Discharge
                                            </label>
                                            <app-combo-grid-virtual-scroll
                                                [currentActiveItemId]="{field:'id',value:opsTransaction.pod}"
                                                (itemSelected)="opsTransaction.pod = $event.id"
                                                [selectedDisplayFields]="['nameEn']" [dataSources]="ports"
                                                [displayFields]="[{'field':'code','label':'Port Code'},{'field':'nameEn','label':'Port Name'},{'field':'countryNameEN','label':'Country'}]">
                                            </app-combo-grid-virtual-scroll>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Supplier
                                            </label>
                                            <app-combo-grid-virtual-scroll
                                                [currentActiveItemId]="{field:'id',value:opsTransaction.supplierId}"
                                                (itemSelected)="opsTransaction.supplierId = $event.id"
                                                [selectedDisplayFields]="['partnerNameEn']" [dataSources]="suppliers"
                                                [displayFields]="[{'field':'id','label':'Partner ID'},{'field':'shortName','label':'Name ABBR'},{'field':'partnerNameEn','label':'Name EN'},{'field':'taxCode','label':'Tax Code'}]">
                                            </app-combo-grid-virtual-scroll>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="form-group"
                                            [ngClass]="{'m-form__group has-danger':addOpsForm.submitted && flightVessel.invalid}">
                                            <label class="form-control-label" for="">
                                                Vessel/Flight <span class="m--font-danger">(*)</span>
                                            </label>
                                            <input type="text" required class="form-control m-input m-input--square"
                                                placeholder="Enter text" name="flightVessel"
                                                [(ngModel)]="opsTransaction.flightVessel" #flightVessel="ngModel">
                                            <div class="form-control-feedback"
                                                *ngIf="addOpsForm.submitted && flightVessel.invalid">
                                                Vessel/Flight No is required!
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Agent
                                            </label>
                                            <app-combo-grid-virtual-scroll
                                                [currentActiveItemId]="{field:'id',value:opsTransaction.agentId}"
                                                (itemSelected)="opsTransaction.agentId = $event.id"
                                                [selectedDisplayFields]="['partnerNameEn']" [dataSources]="agents"
                                                [displayFields]="[{'field':'id','label':'Partner ID'},{'field':'shortName','label':'Name ABBR'},{'field':'partnerNameEn','label':'Name EN'},{'field':'taxCode','label':'Tax Code'}]">
                                            </app-combo-grid-virtual-scroll>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Warehouse
                                            </label>
                                            <app-combo-grid-virtual-scroll
                                                [currentActiveItemId]="{field:'id',value:opsTransaction.warehouseId}"
                                                (itemSelected)="opsTransaction.warehouseId = $event.id"
                                                [selectedDisplayFields]="['nameEn']" [dataSources]="ports"
                                                [displayFields]="[{'field':'code','label':'Port Code'},{'field':'nameEn','label':'Port Name'},{'field':'countryNameEN','label':'Country'}]">
                                            </app-combo-grid-virtual-scroll>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Invoice No
                                            </label>
                                            <input type="text" required class="form-control m-input m-input--square"
                                                name="invoiceNo" placeholder="Enter text"
                                                [(ngModel)]="opsTransaction.invoiceNo" #invoiceNo="ngModel">
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Purchase Order No
                                            </label>
                                            <input type="text" required class="form-control m-input m-input--square"
                                                placeholder="Enter text" name="purchaseOrderNo"
                                                [(ngModel)]="opsTransaction.purchaseOrderNo" #purchaseOrderNo="ngModel">
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Saleman
                                            </label>
                                            <app-combo-grid-virtual-scroll
                                                [currentActiveItemId]="{field:'id',value:opsTransaction.salemanId}"
                                                (itemSelected)="opsTransaction.salemanId = $event.id"
                                                [selectedDisplayFields]="['employeeNameEn']" [dataSources]="salemans"
                                                [displayFields]="[{'field':'username','label':'User Name'},{'field':'employeeNameEn','label':'Full Name'},{'field':'','label':'Role'}]">
                                            </app-combo-grid-virtual-scroll>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Field OPS
                                            </label>
                                            <app-combo-grid-virtual-scroll
                                                [currentActiveItemId]="{field:'id',value:opsTransaction.fieldOpsId}"
                                                (itemSelected)="opsTransaction.fieldOpsId = $event.id"
                                                [selectedDisplayFields]="['employeeNameEn']" [dataSources]="billingOps"
                                                [displayFields]="[{'field':'username','label':'User Name'},{'field':'employeeNameEn','label':'Full Name'},{'field':'','label':'Role'}]">
                                            </app-combo-grid-virtual-scroll>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group"
                                            [ngClass]="{'m-form__group has-danger':addOpsForm.submitted && opsTransaction.billingOpsId == null}">
                                            <label class="form-control-label" for="">
                                                Billing OPS <span class="m--font-danger">(*)</span>
                                            </label>
                                            <app-combo-grid-virtual-scroll
                                                [currentActiveItemId]="{field:'id',value:opsTransaction.billingOpsId}"
                                                (itemSelected)="opsTransaction.billingOpsId = $event.id"
                                                [selectedDisplayFields]="['employeeNameEn']" [dataSources]="billingOps"
                                                [displayFields]="[{'field':'username','label':'User Name'},{'field':'employeeNameEn','label':'Full Name'},{'field':'','label':'Role'}]">
                                            </app-combo-grid-virtual-scroll>
                                            <div class="form-control-feedback" style="display: none">
                                                Billing OPS is required!
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4 m--margin-top-10 m--margin-bottom-5">
                                        <span class="m--font-bolder">Create:</span>
                                        <span class="m--font-brand m--margin-left-5">dd/MM/yyyy h:mm:ss</span>
                                        <span class="m--font-bolder m--margin-left-5">by</span>
                                        <span class="m--font-brand m--margin-left-5">user</span>
                                    </div>
                                    <div class="col-md-4 m--margin-top-10 m--margin-bottom-5">
                                        <span class="m--font-bolder">Modified:</span>
                                        <span class="m--font-brand m--margin-left-5">dd/MM/yyyy h:mm:ss</span>
                                        <span class="m--font-bolder m--margin-left-5">by</span>
                                        <span class="m--font-brand m--margin-left-5">user</span>
                                    </div>
                                </div>
                            </div>
                            <!--end:: General Information -->
                            <!--begin:: Good Information -->
                            <div class="div-inside bg-secondary">
                                <h3 class="c-block-title">Good Information</h3>
                                <hr>
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                GW
                                            </label>
                                            <input type="text" required class="form-control m-input m-input--square"
                                                placeholder="Enter text" name="">
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                NW
                                            </label>
                                            <input type="text" required class="form-control m-input m-input--square"
                                                placeholder="Enter text" name="">
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                CBM
                                            </label>
                                            <input type="text" required class="form-control m-input m-input--square"
                                                placeholder="Enter text" name="">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-xl-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Packages Qty
                                            </label>
                                            <div class="input-group m-input-group m-input-group--square">
                                                <input type="text" class="form-control m-input" aria-label="">
                                                <div class="input-group-prepend">
                                                    <ng-select [allowClear]="false" [items]="packagesUnit"
                                                        [active]="packagesUnitActive" [disabled]="disabled"
                                                        (data)="refreshValue($event)" (selected)="selected($event)"
                                                        (removed)="removed($event)" (typed)="typed($event)"
                                                        placeholder="">
                                                    </ng-select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xl-4">
                                        <div class="form-group">
                                            <label class="form-control-label" for="">
                                                Container Qty
                                            </label>
                                            <input type="text" class="form-control m-input m-input--square" name=""
                                                placeholder="">
                                        </div>
                                    </div>
                                    <div class="col-xl-4">
                                        <div class="m--margin-bottom-15 m--margin-top-25">
                                            <button type="button"
                                                class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase"
                                                data-toggle="modal" data-target="#container-list-of-ops-billing-modal">
                                                <span>
                                                    <i class="la la-list"></i>
                                                    <span>
                                                        Container list
                                                    </span>
                                                </span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--end:: Good Information-->
                        </div>
                    </div>
                    <!--end::m-portlet -->
                </div>
            </form>
            <!--end::Form-->

            <div class="row">
                <div class="col-12">
                    <ul class="nav nav-tabs m-tabs m-tabs-line m-tabs-line--brand m-tabs-line-danger" role="tablist">
                        <li class="nav-item m-tabs__item">
                            <a class="nav-link m-tabs__link active" data-toggle="tab" href="#buying-rate" role="tab">
                                Buying Rate
                            </a>
                        </li>
                        <li class="nav-item m-tabs__item">
                            <a class="nav-link m-tabs__link" data-toggle="tab" href="#selling-rate" role="tab">
                                Selling Rate
                            </a>
                        </li>
                        <li class="nav-item m-tabs__item">
                            <a class="nav-link m-tabs__link" data-toggle="tab" href="#obh-charge" role="tab">
                                OBH
                            </a>
                        </li>
                        <li class="nav-item m-tabs__item">
                            <a class="nav-link m-tabs__link" data-toggle="tab" href="#logistic-charge" role="tab">
                                Logistic Charges
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <!--begin:: m-portlet-->
            <div class="m-portlet">
                <div class="m-portlet__body">
                    <div class="tab-content" id="">
                        <!--begin::buying-rate-->
                        <div class="tab-pane fade show active" id="buying-rate" role="tabpanel">
                            <!--begin: Search Form -->
                            <div class="m-form m-form--label-align-right m--margin-bottom-10">
                                <div class="row align-items-center">
                                    <div class="col-lg-4 order-2 order-lg-1">
                                        <div class="form-group">
                                            <div class="m-input-icon m-input-icon--left">
                                                <input type="text" class="form-control m-input m-input--square"
                                                    placeholder="Search..."
                                                    (keyup)="searchBuyingRate($event.target.value)">
                                                <span class="m-input-icon__icon m-input-icon__icon--left">
                                                    <span>
                                                        <i class="la la-search"></i>
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-8 order-1 order-lg-2 c-button-actions m--align-right">
                                        <button type="button"
                                            class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase"
                                            data-toggle="modal" data-target="#ops-add-buying-rate-modal">
                                            <span>
                                                <i class="la la-plus"></i>
                                                <span>
                                                    add charge
                                                </span>
                                            </span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <!--end: Search Form -->
                            <!--begin: Datatable-->
                            <div class="table-wrapper table-scrollable fit-height-div" id="">
                                <table class="table table-striped table-brand dataTable">
                                    <thead class="">
                                        <tr class="">
                                            <th class=""></th>
                                            <th class="sorting">
                                                <span>
                                                    Partner
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Name EN
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Quantity
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Unit
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Unit price
                                                </span>
                                            </th>

                                            <th class="sorting">
                                                <span>
                                                    Currency
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    VAT
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    Total
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    Note
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    Docs
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    SOA
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Credit/ Debit note
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Settle payment
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Exchange rate date
                                                </span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="" *ngFor="let charge of ListBuyingRateCharges;let i = index;">
                                            <td class="table-actions-col">
                                                <div class="table-actions" style="width: 70px">
                                                    <button type="button" (click)="prepareEditCharge('buy',charge)"
                                                        class="btn btn-success btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Edit" data-toggle="modal"
                                                        data-target="#ops-edit-buying-rate-modal">
                                                        <i class="la la-edit"></i>
                                                    </button>
                                                    <button type="button" (click)="DeleteCharge('confirm',charge.id)"
                                                        class="btn btn-danger btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Remove" data-toggle="modal"
                                                        data-target="#ops-confirm-delete-charge-modal">
                                                        <i class="la la-trash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                            <td>
                                                <span>
                                                    {{charge.partnerName}}
                                                </span>
                                            </td>
                                            <td>
                                                <!-- <span>
                                                    {{charge.nameEn}}
                                                </span> -->
                                                <a href="javascript:void()" (click)="prepareEditCharge('buy',charge)"
                                                    data-toggle="modal"
                                                    data-target="#ops-edit-buying-rate-modal">{{charge.nameEn}}</a>
                                            </td>
                                            <td>
                                                <span>
                                                    {{charge.quantity}}
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    {{charge.unit}}
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    {{charge.unitPrice}}
                                                </span>
                                            </td>

                                            <td>
                                                <span>
                                                    {{charge.currency}}
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    {{charge.vatrate}}
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    {{charge.total}}
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    {{charge.notes}}
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    {{charge.docNo}}
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    {{charge.soano}}
                                                </span>
                                            </td>
                                            <td>
                                                <a href="javascript:void(0)" data-toggle="modal"
                                                    data-target="#detail-credit-debit-note-modal"
                                                    (click)="openCreditDebitNote()">
                                                    Credit/ Debit note
                                                </a>
                                            </td>
                                            <td>
                                                <span>
                                                    Settle payment
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.exchangeDate | date:'dd/MM/yyyy'
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!--end: Datatable-->
                        </div>
                        <!--end::buying-rate-->

                        <!--begin::selling-rate-->
                        <div class="tab-pane fade" id="selling-rate" role="tabpanel">
                            <!--begin: Search Form -->
                            <div class="m-form m-form--label-align-right m--margin-bottom-10">
                                <div class="row align-items-center">
                                    <div class="col-lg-4 order-2 order-lg-1">
                                        <div class="form-group">
                                            <div class="m-input-icon m-input-icon--left">
                                                <input type="text" class="form-control m-input m-input--square"
                                                    placeholder="Search...">
                                                <span class="m-input-icon__icon m-input-icon__icon--left">
                                                    <span>
                                                        <i class="la la-search"></i>
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-8 order-1 order-lg-2 c-button-actions m--align-right">
                                        <button type="button"
                                            class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase"
                                            data-toggle="modal" data-target="#add-selling-rate-modal">
                                            <span>
                                                <i class="la la-plus"></i>
                                                <span>
                                                    add new
                                                </span>
                                            </span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <!--end: Search Form -->
                            <!--begin: Datatable-->
                            <div class="table-wrapper table-scrollable fit-height-div" id="">
                                <table class="table table-striped table-brand dataTable">
                                    <thead class="">
                                        <tr class="">
                                            <th class=""></th>
                                            <th class="sorting">
                                                <span>
                                                    Partner
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Name EN
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Quantity
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Unit
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Unit Price
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Currency
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    VAT
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    Total
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    Note
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    Docs
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    SOA
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Credit/ Debit note
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Settle payment
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Exchange rate date
                                                </span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="">
                                            <td class="table-actions-col">
                                                <div class="table-actions" style="width: 70px">
                                                    <button type="button"
                                                        class="btn btn-success btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Edit" data-toggle="modal"
                                                        data-target="#edit-selling-rate-modal">
                                                        <i class="la la-edit"></i>
                                                    </button>
                                                    <button type="button"
                                                        class="btn btn-danger btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Remove" data-toggle="modal"
                                                        data-target="#ops-confirm-delete-charge-modal">
                                                        <i class="la la-trash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.partnerName
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.nameEn
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.quantity
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.unit
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.unitPrice
                                                </span>
                                            </td>

                                            <td>
                                                <span>
                                                    charge.currency
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.vatrate
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.total
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.notes
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.docNo
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    SOA
                                                </span>
                                            </td>
                                            <td>
                                                <a href="javascript:void(0)" data-toggle="modal"
                                                    data-target="#detail-credit-debit-note-modal">
                                                    Credit/ Debit note
                                                </a>
                                            </td>
                                            <td>
                                                <span>
                                                    Settle payment
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.exchangeDate | date:'dd/MM/yyyy'
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!--end: Datatable-->
                        </div>
                        <!--end::selling-rate-->

                        <!--begin::obh-charge-->
                        <div class="tab-pane fade" id="obh-charge" role="tabpanel">
                            <!--begin: Search Form -->
                            <div class="m-form m-form--label-align-right m--margin-bottom-10">
                                <div class="row align-items-center">
                                    <div class="col-lg-6 order-2 order-lg-1">
                                        <div class="form-group">
                                            <div class="m-input-icon m-input-icon--left">
                                                <input type="text" class="form-control m-input m-input--square"
                                                    placeholder="Search...">
                                                <span class="m-input-icon__icon m-input-icon__icon--left">
                                                    <span>
                                                        <i class="la la-search"></i>
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6 order-1 order-lg-2 c-button-actions m--align-right">
                                        <button type="button"
                                            class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase"
                                            data-toggle="modal" data-target="#add-obh-charge-modal">
                                            <span>
                                                <i class="la la-plus"></i>
                                                <span>
                                                    add new
                                                </span>
                                            </span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <!--end: Search Form -->
                            <!--begin: Datatable-->
                            <div class="table-wrapper table-scrollable fit-height-div" id="">
                                <table class="table table-striped table-brand dataTable">
                                    <thead class="">
                                        <tr class="">
                                            <th class=""></th>
                                            <th class="sorting">
                                                <span>
                                                    Receiver
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Payer
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Name EN
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Quantity
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Unit
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Unit price
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Currency
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    VAT
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    Total
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    Note
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    Docs
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    SOA
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Credit/ Debit note
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Settle payment
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Exchange rate date
                                                </span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="">
                                            <td class="table-actions-col">
                                                <div class="table-actions" style="width: 70px">
                                                    <button type="button"
                                                        class="btn btn-success btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Edit" data-toggle="modal"
                                                        data-target="#edit-obh-charge-modal">
                                                        <i class="la la-edit"></i>
                                                    </button>
                                                    <button type="button"
                                                        class="btn btn-danger btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Remove" data-toggle="modal"
                                                        data-target="#ops-confirm-delete-charge-modal">
                                                        <i class="la la-trash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.receiverName
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.payerName
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.nameEn
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.quantity
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.unit
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.unitPrice
                                                </span>
                                            </td>

                                            <td>
                                                <span>
                                                    charge.currency
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.vatrate
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.total
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.notes
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.docNo
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    SOA
                                                </span>
                                            </td>
                                            <td>
                                                <a href="javascript:void(0)" data-toggle="modal"
                                                    data-target="#detail-credit-debit-note-modal">
                                                    Credit/ Debit note
                                                </a>
                                            </td>
                                            <td>
                                                <span>
                                                    Settle payment
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    charge.exchangeDate | date:'dd/MM/yyyy'
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!--end: Datatable-->
                        </div>
                        <!--end::obh-charge-->

                        <!--begin::logistic-charge-->
                        <div class="tab-pane fade" id="logistic-charge" role="tabpanel">
                            <!--begin: Search Form -->
                            <div class="m-form m-form--label-align-right m--margin-bottom-10">
                                <div class="row align-items-center">
                                    <div class="col-lg-6 order-2 order-lg-1">
                                        <div class="form-group">
                                            <div class="m-input-icon m-input-icon--left">
                                                <input type="text" class="form-control m-input m-input--square"
                                                    placeholder="Search...">
                                                <span class="m-input-icon__icon m-input-icon__icon--left">
                                                    <span>
                                                        <i class="la la-search"></i>
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--end: Search Form -->
                            <!--begin: Datatable-->
                            <div class="table-wrapper table-scrollable fit-height-div" id="">
                                <table class="table table-striped table-brand dataTable">
                                    <thead class="">
                                        <tr class="">
                                            <th class="sorting">
                                                <span>
                                                    Partner
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Name EN
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Quantity
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Unit
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Unit price
                                                </span>
                                            </th>

                                            <th class="sorting">
                                                <span>
                                                    Currency
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    VAT
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    Total
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    Note
                                                </span>
                                            </th>
                                            <th class="">
                                                <span>
                                                    Docs
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    SOA
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Credit/ Debit note
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Settle payment
                                                </span>
                                            </th>
                                            <th class="sorting">
                                                <span>
                                                    Exchange rate date
                                                </span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="">
                                            <td>
                                                <span>
                                                    Partner
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    Name EN
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    Quantity
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    Unit
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    Unit price
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    Currency
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    VAT
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    Total
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    Note
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    Docs
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    SOA
                                                </span>
                                            </td>
                                            <td>
                                                <a href="javascript:void(0)" data-toggle="modal"
                                                    data-target="#detail-credit-debit-note-modal">
                                                    Credit/ Debit note
                                                </a>
                                            </td>
                                            <td>
                                                <span>
                                                    Settle payment
                                                </span>
                                            </td>
                                            <td>
                                                <span>
                                                    Exchange rate date
                                                </span>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!--end: Datatable-->
                        </div>
                        <!--end::logistic-charge-->
                    </div>
                </div>
            </div>
            <!--end:: m-portlet-->

            <!--begin:: m-portlet-->
            <div class="m-portlet m-portlet--danger m-portlet--head-solid-bg m-portlet--bordered">
                <div class="alert-block__heading">
                    <h3 class="alert-block__title">Profit summary</h3>
                </div>
                <div class="m-portlet__body">
                    <!--begin: table -->
                    <div class="table-wrapper" id="">
                        <table class="table table-striped table-brand">
                            <thead>
                                <tr>
                                    <th></th>
                                    <th>
                                        <span>USD</span>
                                    </th>
                                    <th>
                                        <span>Local (VNĐ)</span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <span>Buying rate</span>
                                    </td>
                                    <td>
                                        <span>500.000,000</span>
                                    </td>
                                    <td>
                                        <span>500.000,000</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <span>Selling rate</span>
                                    </td>
                                    <td>
                                        <span>500.000,000</span>
                                    </td>
                                    <td>
                                        <span>500.000,000</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <span>OBH</span>
                                    </td>
                                    <td>
                                        <span>500.000,000</span>
                                    </td>
                                    <td>
                                        <span>500.000,000</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <span>Logictis charge</span>
                                    </td>
                                    <td>
                                        <span>500.000,000</span>
                                    </td>
                                    <td>
                                        <span>500.000,000</span>
                                    </td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr>
                                    <th>
                                        <span>Total</span>
                                    </th>
                                    <th>
                                        <span>500.000,000</span>
                                    </th>
                                    <th>
                                        <span>500.000,000</span>
                                    </th>
                                </tr>
                            </tfoot>
                        </table>
                    </div>
                    <!--end: table -->
                </div>
            </div>
            <!--end:: m-portlet-->
        </div>
        <!--end::billing-job-detail-tabview-tab-->

        <!--begin:: custom-declaration-tabview-tab  -->
        <div class="tab-pane fade" role="tabpanel" id="custom-declaration-tabview-tab">
            <app-billing-custom-declaration></app-billing-custom-declaration>
        </div>
        <!--end::custom-declaration-tabview-tab -->

        <!--begin:: credit-debit-note-tabview-tab -->
        <div class="tab-pane fade" role="tabpanel" id="credit-debit-note-tabview-tab">
            <app-ops-module-credit-debit-note></app-ops-module-credit-debit-note>
        </div>
        <!--end::credit-debit-note-tabview-tab -->
        <!--begin:: stage-management-tabview-tab -->
        <div class="tab-pane fade" role="tabpanel" id="stage-management-tabview-tab">
            <app-ops-module-stage-management></app-ops-module-stage-management>
        </div>
        <!--end::stage-management-tabview-tab -->

    </div>
    <!--end:: tab-content-->

</div>
<!--end:: m-content-->

<!--begin::container-list-of-ops-billing-modal-->
<div class="modal fade" id="container-list-of-ops-billing-modal" data-backdrop="static" role="dialog" aria-labelledby=""
    aria-hidden="true">
    <div class="modal-dialog c-modal-fullscreen" role="document">
        <form>
            <div class="modal-content m-form m-form--state">
                <div class="modal-header">
                    <h5 class="modal-title">List of container</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="container-list-table">
                        <!--begin: Search Form -->
                        <div class="m-form m-form--label-align-right m--margin-bottom-10">
                            <div class="row align-items-center">
                                <div class="col-lg-4 order-2 order-lg-1">
                                    <div class="form-group">
                                        <div class="m-input-icon m-input-icon--left">
                                            <input type="text" class="form-control m-input m-input--square"
                                                placeholder="Search..." autocomplete="nope" name="searchcontainer">
                                            <span class="m-input-icon__icon m-input-icon__icon--left">
                                                <span>
                                                    <i class="la la-search"></i>
                                                </span>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-8 order-1 order-lg-2 c-button-actions m--align-right">
                                    <button type="button"
                                        class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase">
                                        <span>
                                            <i class="la la-download"></i>
                                            <span>
                                                import
                                            </span>
                                        </span>
                                    </button>
                                    <button type="button"
                                        class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase">
                                        <span>
                                            <i class="la la-plus"></i>
                                            <span>
                                                add container
                                            </span>
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!--end: Search Form -->
                        <!--begin: Datatable -->
                        <div class="table-wrapper" id="" style="min-height: 300px">
                            <table class="table table-striped table-brand table-editable">
                                <thead class="">
                                    <tr class="">
                                        <th class="fixed-side"></th>
                                        <th class="">
                                            <span>
                                                Cont Type
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Cont Q'ty
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Cont No.
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Seal No.
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Mark No.
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Commodity
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Package Type
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Package Q'ty
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Description of Good
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                G.W
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                N.W
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                C.W
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                Unit
                                            </span>
                                        </th>
                                        <th class="">
                                            <span>
                                                CBM
                                            </span>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <ng-container>
                                        <tr class="m-form m-form--state row-editing">
                                            <td class="table-actions-col fixed-side">
                                                <div class="table-actions control-editable" style="width: 70px">
                                                    <button type=""
                                                        class="btn btn-primary btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Save">
                                                        <i class="la la-save"></i>
                                                    </button>
                                                    <button type="button"
                                                        class="btn btn-danger btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Cancel">
                                                        <i class="la la-ban"></i>
                                                    </button>
                                                </div>
                                            </td>
                                            <td class="">
                                                <div class="control-editable">
                                                    <ng-select [allowClear]="true" [items]="items"
                                                        (data)="refreshValue($event)" (selected)="selected($event)"
                                                        (removed)="removed($event)" (typed)="typed($event)"
                                                        placeholder="Select filter">
                                                    </ng-select>
                                                </div>
                                            </td>
                                            <td class="">
                                                <!-- <span class="content-editable">
                                                        Cont Q'ty
                                                    </span> -->
                                                <div class="control-editable">
                                                    <input type="number" class="form-control m-input m-input--square"
                                                        min="1" max="2147483647" value="1" placeholder="Please enter"
                                                        required>
                                                </div>
                                            </td>
                                            <td class="">
                                                <!-- <span class="content-editable">
                                                        Cont No.
                                                    </span> -->
                                                <div class="control-editable">
                                                    <input type="text" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope"
                                                        name="containerNo">
                                                </div>
                                            </td>
                                            <td class="">
                                                <!-- <span class="content-editable">
                                                        Seal No.
                                                    </span> -->
                                                <div class="control-editable">
                                                    <input type="text" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope">
                                                </div>
                                            </td>
                                            <td class="">
                                                <!-- <span class="content-editable">
                                                        Mark No.
                                                    </span> -->
                                                <div class="control-editable">
                                                    <input type="text" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope">
                                                </div>
                                            </td>
                                            <td class="">
                                                <!-- <span class="content-editable">
                                                        Commodity
                                                    </span> -->
                                                <div class="control-editable">
                                                    <input type="text" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope">
                                                </div>
                                            </td>
                                            <td class="">
                                                <!-- <span class="content-editable">
                                                        Package Type
                                                    </span> -->
                                                <div class="control-editable">
                                                    <ng-select [allowClear]="true" [items]="items"
                                                        (data)="refreshValue($event)" (selected)="selected($event)"
                                                        (removed)="removed($event)" (typed)="typed($event)"
                                                        placeholder="Select filter">
                                                    </ng-select>
                                                </div>
                                            </td>
                                            <td class="">
                                                <!-- <span class="content-editable">
                                                        Package Q'ty
                                                    </span> -->
                                                <div class="control-editable">
                                                    <input type="number" class="form-control m-input m-input--square"
                                                        min="1" max="32767" placeholder="Please enter"
                                                        autocomplete="nope">
                                                </div>
                                            </td>
                                            <td class="" style="width: 130px">
                                                <!-- <span class="content-editable">
                                                        Description of Good dài thiệt là dài đó nha Tem Tem
                                                    </span> -->
                                                <div class="control-editable">
                                                    <input type="text" class="form-control m-input m-input--square"
                                                        autocomplete="nope" placeholder="Please enter">
                                                </div>
                                            </td>
                                            <td class="">
                                                <!-- <span class="content-editable">
                                                        N.W
                                                    </span> -->
                                                <div class="control-editable">
                                                    <input type="number" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope">
                                                </div>
                                            </td>
                                            <td class="">
                                                <!-- <span class="content-editable">
                                                        G.W
                                                    </span> -->
                                                <div class="control-editable">
                                                    <input type="number" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope">
                                                </div>
                                            </td>
                                            <td class="">
                                                <!-- <span class="content-editable">
                                                        C.W
                                                    </span> -->
                                                <div class="control-editable">
                                                    <input type="number" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope">
                                                </div>
                                            </td>
                                            <td class="">
                                                <!-- <span class="content-editable">
                                                        Unit
                                                    </span> -->
                                                <div class="control-editable">
                                                    <ng-select [allowClear]="true" [items]="items"
                                                        (data)="refreshValue($event)" (selected)="selected($event)"
                                                        (removed)="removed($event)" (typed)="typed($event)"
                                                        placeholder="Select filter">
                                                    </ng-select>
                                                </div>
                                            </td>
                                            <td class="">
                                                <!-- <span class="content-editable">
                                                        CBM
                                                    </span> -->
                                                <div class="control-editable">
                                                    <input type="number" class="form-control m-input m-input--square"
                                                        placeholder="Please enter" autocomplete="nope">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr class="">
                                            <td class="table-actions-col fixed-side">
                                                <div class="table-actions" style="width: 70px">
                                                    <button type="button"
                                                        class="btn btn-success btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Edit">
                                                        <i class="la la-edit"></i>
                                                    </button>
                                                    <button type="button"
                                                        class="btn btn-danger btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                        title="Remove" data-toggle="modal"
                                                        data-target="#confirm-accept-delete-container-modal">
                                                        <i class="la la-trash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    container.containerTypeName
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    container.quantity
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    container.containerNo
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    container.sealNo
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    container.markNo
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    container.commodityName
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    container.packageTypeName
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    container.packageQuantity
                                                </span>
                                            </td>
                                            <td class="" style="width: 130px">
                                                <span class="content-editable">
                                                    container.description
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    container.nw | number: '1.2-2'
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    container.gw | number: '1.2-2'
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    container.chargeAbleWeight | number: '1.2-2'
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    container.unitOfMeasureName
                                                </span>
                                            </td>
                                            <td class="">
                                                <span class="content-editable">
                                                    container.cbm | number: '1.2-2'
                                                </span>
                                            </td>
                                        </tr>

                                    </ng-container>
                                </tbody>
                            </table>
                        </div>
                        <!--end: Datatable -->
                    </div>
                </div>
                <div class="modal-footer m--align-center">
                    <button type="" class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-save"></i>
                            <span>
                                save
                            </span>
                        </span>
                    </button>
                    <button type="button" class="btn btn-cancel m-btn--square m-btn--icon m-btn--uppercase"
                        data-dismiss="modal">
                        <span>
                            <i class="la la-ban"></i>
                            <span>
                                cancel
                            </span>
                        </span>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
<!--end::container-list-of-ops-billing-modal-->


<!--begin:: add-buying-rate-modal-->
<form novalidate name="addBuyingRateChargeFormOps" #addBuyingRateChargeFormOps="ngForm"
    (ngSubmit)="addBuyingRateChargeFormOps.form.valid">
    <div class="modal fade" id="ops-add-buying-rate-modal" data-backdrop="static" role="dialog" aria-labelledby=""
        aria-hidden="true">

        <div class="modal-dialog c-modal-fullscreen" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add buying charge</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                        (click)="resetChargeForm('ops-add-buying-rate-modal',addBuyingRateChargeFormOps)">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body" *ngIf="isDisplay">
                    <!--begin::Form-->
                    <div class="m-form m-form--state">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addBuyingRateChargeFormOps.submitted && BuyingRateChargeToAdd.chargeId==null}">
                                    <label class="form-control-label" for="" #selectedBuyingChargeCode>
                                        Charge <span class="m--font-danger">(*)</span>
                                        <small class="m--margin-left-5 m--font-primary">Charge&nbsp;
                                            {{selectedBuyingChargeCode.value==null?'':selectedBuyingChargeCode.value}}
                                        </small>
                                    </label>
                                    <app-combo-grid-virtual-scroll
                                        [currentActiveItemId]="{field:'charge.id',value:BuyingRateChargeToAdd.chargeId}"
                                        (itemSelected)="BuyingRateChargeToAdd.chargeId=$event.charge.id;
                                            BuyingRateChargeToAdd.unitId=$event.charge.unitId;
                                            BuyingRateChargeToAdd.unitPrice=$event.charge.unitPrice;
                                            BuyingRateChargeToAdd.vatrate=$event.charge.vatrate;
                                            selectedBuyingChargeCode.value=$event.charge.code;
                                            calculateTotalEachBuying();"
                                        [selectedDisplayFields]="['charge.chargeNameEn']"
                                        [dataSources]="lstBuyingRateChargesComboBox"
                                        [displayFields]="[{'field':'charge.code','label':'Charge Code'},{'field':'charge.chargeNameEn','label':'Name EN'},{'field':'charge.chargeNameVn','label':'Name VN'}]">
                                    </app-combo-grid-virtual-scroll>

                                    <div class="form-control-feedback"
                                        *ngIf="addBuyingRateChargeFormOps.submitted && BuyingRateChargeToAdd.chargeId==null">
                                        Charge is required
                                    </div>
                                </div>
                            </div>


                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addBuyingRateChargeFormOps.submitted && BuyingRateChargeToAdd.objectBePaid==null }">
                                    <label class="form-control-label" for="">
                                        Partner type <span class="m--font-danger">(*)</span>
                                    </label>
                                    <ng-select [allowClear]="true" [items]="[
                                                { 'text': 'AGENT', 'id': 'AGENT' },
                                                { 'text': 'SHIPPING LINE','id': 'SHIPPING' },
                                                { 'text': 'OTHER', 'id': 'OTHER' }]" [disabled]="disabled"
                                        (data)="refreshValue($event)"
                                        (selected)="BuyingRateChargeToAdd.objectBePaid=$event.id;
                                                    BuyingRateChargeToAdd.objectBePaid==='AGENT'? BuyingRateChargeToAdd.paymentObjectId=opsTransaction.agentId:null;
                                                    BuyingRateChargeToAdd.objectBePaid==='SHIPPING'? BuyingRateChargeToAdd.paymentObjectId=opsTransaction.supplierId:null;
                                                    BuyingRateChargeToAdd.objectBePaid==='OTHER'? BuyingRateChargeToAdd.paymentObjectId=null:null;"
                                        (removed)="BuyingRateChargeToAdd.objectBePaid=null;BuyingRateChargeToAdd.paymentObjectId=null;"
                                        (typed)="typed($event)" placeholder="Select filter">
                                    </ng-select>

                                    <div class="form-control-feedback"
                                        *ngIf="addBuyingRateChargeFormOps.submitted && BuyingRateChargeToAdd.objectBePaid==null">
                                        Partner type is required !
                                    </div>
                                </div>
                            </div>


                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addBuyingRateChargeFormOps.submitted && BuyingRateChargeToAdd.paymentObjectId==nulll }">
                                    <label class="form-control-label" for="">
                                        Partner name
                                    </label>
                                    <app-combo-grid-virtual-scroll
                                        [disabled]="BuyingRateChargeToAdd.objectBePaid!=='OTHER'"
                                        [currentActiveItemId]="{field:'id',value:BuyingRateChargeToAdd.paymentObjectId}"
                                        (itemSelected)="BuyingRateChargeToAdd.paymentObjectId = $event.id"
                                        [selectedDisplayFields]="['shortName']" [dataSources]="lstPartners"
                                        [displayFields]="[{'field':'id','label':'Partner ID'},{'field':'shortName','label':'Name ABBR'},{'field':'partnerNameEn','label':'Name EN'},{'field':'taxCode','label':'Tax Code'}]">
                                    </app-combo-grid-virtual-scroll>

                                    <div class="form-control-feedback"
                                        *ngIf="addBuyingRateChargeFormOps.submitted && BuyingRateChargeToAdd.paymentObjectId==null">
                                        Partner name is required !
                                    </div>

                                    <div class="form-control-feedback"
                                        *ngIf="(!addBuyingRateChargeFormOps.submitted && BuyingRateChargeToAdd.objectBePaid!==null && BuyingRateChargeToAdd.paymentObjectId==null)">
                                        Partner does not exist !
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addBuyingRateChargeFormOps.submitted && buyingRateChangeQuantityNameOps.invalid}">
                                    <label class="form-control-label" for="">
                                        Quantity <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="input-group m-input-group m-input-group--square">
                                        <input type="text" required class="form-control m-input m-input--square"
                                            appIntergerInputCheck placeholder="Enter text"
                                            name="buyingRateChangeQuantityNameOps"
                                            #buyingRateChangeQuantityNameOps="ngModel"
                                            [(ngModel)]="BuyingRateChargeToAdd.quantity"
                                            (keyup)="calculateTotalEachBuying()">
                                        <div class="input-group-prepend">
                                            <button type="button" class="btn btn-secondary">
                                                CBM
                                            </button>
                                        </div>
                                    </div>
                                    <div class="form-control-feedback"
                                        *ngIf="addBuyingRateChargeFormOps.submitted && buyingRateChangeQuantityNameOps.invalid">
                                        Quantity is required !
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addBuyingRateChargeFormOps.submitted && BuyingRateChargeToAdd.unitId==null}">
                                    <label class="form-control-label" for="">
                                        Unit
                                    </label>

                                    <app-combo-grid-virtual-scroll
                                        [currentActiveItemId]="{field:'id',value:BuyingRateChargeToAdd.unitId}"
                                        (itemSelected)="BuyingRateChargeToAdd.unitId=$event.id"
                                        [selectedDisplayFields]="['unitNameEn']" [dataSources]="lstUnits"
                                        [displayFields]="[{'field':'unitNameEn','label':'Name EN'},{'field':'unitType','label':'Unit type'}]">
                                    </app-combo-grid-virtual-scroll>


                                    <div class="form-control-feedback"
                                        *ngIf="addBuyingRateChargeFormOps.submitted && BuyingRateChargeToAdd.unitId==null">
                                        Unit is required
                                    </div>


                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addBuyingRateChargeFormOps.submitted &&(BuyingRateChargeUnitPriceNameOps.invalid || (0 >= BuyingRateChargeToAdd.unitPrice)) }">
                                    <label class="form-control-label" for="">
                                        Unit price <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        [(ngModel)]="BuyingRateChargeToAdd.unitPrice"
                                        (keyup)="calculateTotalEachBuying()" placeholder="Enter text"
                                        #BuyingRateChargeUnitPriceNameOps="ngModel" required
                                        name="BuyingRateChargeUnitPriceNameOps">
                                    <div class="form-control-feedback"
                                        *ngIf="addBuyingRateChargeFormOps.submitted &&(BuyingRateChargeUnitPriceNameOps.invalid || (0 >= BuyingRateChargeToAdd.unitPrice))">
                                        Unit Price is required and must be larger than 0 !
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addBuyingRateChargeFormOps.submitted && BuyingRateChargeToAdd.currencyId===null }">
                                    <label class="form-control-label" for="">
                                        Currency <span class="m--font-danger">(*)</span>
                                    </label>

                                    <ng-select [allowClear]="true" [items]="lstCurrencies" [disabled]="disabled"
                                        (data)="refreshValue($event)"
                                        (selected)="BuyingRateChargeToAdd.currencyId=$event.id"
                                        (removed)="BuyingRateChargeToAdd.currencyId=null" placeholder="Select filter">
                                    </ng-select>

                                    <div class="form-control-feedback"
                                        *ngIf="addBuyingRateChargeFormOps.submitted && BuyingRateChargeToAdd.currencyId===null">
                                        Currency is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': addBuyingRateChargeFormOps.submitted && BuyingRateChargeVATNameOps.invalid }">
                                    <label class="form-control-label" for="">
                                        VAT <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="number" max="100" name="BuyingRateChargeVATNameOps" required
                                        #BuyingRateChargeVATNameOps="ngModel"
                                        [(ngModel)]="BuyingRateChargeToAdd.vatrate"
                                        class="form-control m-input m-input--square" placeholder="Enter text"
                                        (keyup)="calculateTotalEachBuying()">
                                    <div class="form-control-feedback"
                                        *ngIf="addBuyingRateChargeFormOps.submitted && BuyingRateChargeVATNameOps.invalid">
                                        VAT is required and must be less than or equal 100
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Total
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square" disabled
                                        placeholder="Enter text" name="BuyingRateChargeTotalNameOps"
                                        [(ngModel)]="BuyingRateChargeToAdd.total">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Doc no
                                    </label>
                                    <input type="text" [(ngModel)]="BuyingRateChargeToAdd.docNo"
                                        class="form-control m-input m-input--square" placeholder="Enter text"
                                        name="BuyingRateChargeDocNameOps">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Note
                                    </label>
                                    <input type="text" [(ngModel)]="BuyingRateChargeToAdd.notes"
                                        class="form-control m-input m-input--square" placeholder="Enter text"
                                        name="BuyingRateChargeNoteNameOps">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        &nbsp;
                                    </label>
                                    <div>
                                        <label class="m-checkbox m-checkbox--bold">
                                            <input type="checkbox" name="BuyingRateChargeKickBackNameOps"
                                                [(ngModel)]="BuyingRateChargeToAdd.kickBack">
                                            Kick back
                                            <span></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--end::Form-->
                </div>
                <div class="modal-footer m--align-center">
                    <button class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase"
                        (click)="saveNewBuyingRateCharge(addBuyingRateChargeFormOps,true)">
                        <span>
                            <i class="la la-plus"></i>
                            <span>
                                save & continue
                            </span>
                        </span>
                    </button>
                    <button class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase" type="submit"
                        (click)="saveNewBuyingRateCharge(addBuyingRateChargeFormOps)">
                        <span>
                            <i class="la la-save"></i>
                            <span>
                                save
                            </span>
                        </span>
                    </button>
                    <button type="button" class="btn btn-cancel m-btn--square m-btn--icon m-btn--uppercase"
                        (click)="resetChargeForm('ops-add-buying-rate-modal',addBuyingRateChargeFormOps)">
                        <span>
                            <i class="la la-ban"></i>
                            <span>
                                cancel
                            </span>
                        </span>
                    </button>
                </div>
            </div>
        </div>

    </div>
</form>
<!--end:: add-buying-rate-modal-->

<!--begin:: edit-buying-rate-modal-->
<form novalidate #editBuyingRateChargeFormOps="ngForm" name="editBuyingRateChargeFormOps"
    *ngIf="BuyingRateChargeToEdit!==null">
    <div class="modal fade" id="ops-edit-buying-rate-modal" data-backdrop="static" role="dialog" aria-labelledby=""
        aria-hidden="true">
        <div class="modal-dialog c-modal-fullscreen" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit buying rate</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" *ngIf="isDisplay">
                    <!--begin::Form-->
                    <div class="m-form m-form--state">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': editBuyingRateChargeFormOps.submitted && BuyingRateChargeToEdit.chargeId==null}">
                                    <label class="form-control-label" for="" #selectedBuyingChargeCode>
                                        Charge <span class="m--font-danger">(*)</span>
                                        <small class="m--margin-left-5 m--font-primary">Charge&nbsp;
                                            {{selectedBuyingChargeCode.value==null?'':selectedBuyingChargeCode.value}}
                                        </small>
                                    </label>

                                    <app-combo-grid-virtual-scroll
                                        [currentActiveItemId]="{field:'charge.id',value:BuyingRateChargeToEdit.chargeId}"
                                        (itemSelected)="BuyingRateChargeToEdit.chargeId=$event.charge.id;
                                        BuyingRateChargeToEdit.unitId=$event.charge.unitId;
                                        BuyingRateChargeToEdit.unitPrice=$event.charge.unitPrice;
                                        BuyingRateChargeToEdit.vatrate=$event.charge.vatrate;
                                            selectedBuyingChargeCode.value=$event.charge.code;
                                            calculateTotalEachBuying();"
                                        [selectedDisplayFields]="['charge.chargeNameEn']"
                                        [dataSources]="lstBuyingRateChargesComboBox"
                                        [displayFields]="[{'field':'charge.code','label':'Charge Code'},{'field':'charge.chargeNameEn','label':'Name EN'},{'field':'charge.chargeNameVn','label':'Name VN'}]">
                                    </app-combo-grid-virtual-scroll>

                                    <div class="form-control-feedback"
                                        *ngIf="editBuyingRateChargeFormOps.submitted && BuyingRateChargeToEdit.chargeId==null">
                                        Charge is required
                                    </div>
                                </div>
                            </div>


                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': editBuyingRateChargeFormOps.submitted && BuyingRateChargeToEdit.objectBePaid==null }">
                                    <label class="form-control-label" for="">
                                        Partner type <span class="m--font-danger">(*)</span>
                                    </label>
                                    <ng-select [allowClear]="true" [items]="[
                                                { 'text': 'AGENT', 'id': 'AGENT' },
                                                { 'text': 'SHIPPING LINE','id': 'SHIPPING' },
                                                { 'text': 'OTHER', 'id': 'OTHER' }]" [disabled]="disabled"
                                        [active]="[{'text':BuyingRateChargeToEdit.objectBePaid,'id':BuyingRateChargeToEdit.objectBePaid}]"
                                        (data)="refreshValue($event)" [disabled]="BuyingRateChargeToEdit.soano!=null"
                                        (selected)="BuyingRateChargeToEdit.objectBePaid=$event.id;
                                        BuyingRateChargeToEdit.objectBePaid==='AGENT'? BuyingRateChargeToEdit.paymentObjectId=opsTransaction.agentId:null;
                                        BuyingRateChargeToEdit.objectBePaid==='SHIPPING'? BuyingRateChargeToEdit.paymentObjectId=opsTransaction.supplierId:null;
                                        BuyingRateChargeToEdit.objectBePaid==='OTHER'? BuyingRateChargeToEdit.paymentObjectId=null:null;"
                                        (removed)="BuyingRateChargeToEdit.objectBePaid=null;BuyingRateChargeToEdit.paymentObjectId=null;"
                                        (typed)="typed($event)" placeholder="Select filter">
                                    </ng-select>

                                    <div class="form-control-feedback"
                                        *ngIf="editBuyingRateChargeFormOps.submitted && BuyingRateChargeToEdit.objectBePaid==null">
                                        Partner type is required !
                                    </div>
                                </div>
                            </div>


                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': editBuyingRateChargeFormOps.submitted && BuyingRateChargeToEdit.paymentObjectId==nulll }">
                                    <label class="form-control-label" for="">
                                        Partner name
                                    </label>
                                    <app-combo-grid-virtual-scroll
                                        [disabled]="BuyingRateChargeToEdit.objectBePaid!=='OTHER' || BuyingRateChargeToEdit.soano!=null"
                                        [currentActiveItemId]="{field:'id',value:BuyingRateChargeToEdit.paymentObjectId}"
                                        (itemSelected)="BuyingRateChargeToEdit.paymentObjectId = $event.id"
                                        [selectedDisplayFields]="['shortName']" [dataSources]="lstPartners"
                                        [displayFields]="[{'field':'id','label':'Partner ID'},{'field':'shortName','label':'Name ABBR'},{'field':'partnerNameEn','label':'Name EN'},{'field':'taxCode','label':'Tax Code'}]">
                                    </app-combo-grid-virtual-scroll>

                                    <div class="form-control-feedback"
                                        *ngIf="editBuyingRateChargeFormOps.submitted && BuyingRateChargeToEdit.paymentObjectId==null">
                                        Partner name is required !
                                    </div>

                                    <div class="form-control-feedback"
                                        *ngIf="(!editBuyingRateChargeFormOps.submitted && BuyingRateChargeToEdit.objectBePaid!==null && BuyingRateChargeToEdit.paymentObjectId==null)">
                                        Partner does not exist !
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': editBuyingRateChargeFormOps.submitted && buyingRateChangeQuantityNameOps.invalid}">
                                    <label class="form-control-label" for="">
                                        Quantity <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="input-group m-input-group m-input-group--square">
                                        <input type="text" required class="form-control m-input m-input--square"
                                            appIntergerInputCheck placeholder="Enter text"
                                            [disabled]="BuyingRateChargeToEdit.soano!=null"
                                            name="buyingRateChangeQuantityNameOps"
                                            #buyingRateChangeQuantityNameOps="ngModel"
                                            [(ngModel)]="BuyingRateChargeToEdit.quantity"
                                            (keyup)="calculateTotalEachBuying()">
                                        <div class="input-group-prepend">
                                            <button type="button" class="btn btn-secondary">
                                                CBM
                                            </button>
                                        </div>
                                    </div>
                                    <div class="form-control-feedback"
                                        *ngIf="editBuyingRateChargeFormOps.submitted && buyingRateChangeQuantityNameOps.invalid">
                                        Quantity is required !
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': editBuyingRateChargeFormOps.submitted && BuyingRateChargeToEdit.unitId==null}">
                                    <label class="form-control-label" for="">
                                        Unit
                                    </label>

                                    <app-combo-grid-virtual-scroll [disabled]="BuyingRateChargeToEdit.soano!=null"
                                        [currentActiveItemId]="{field:'id',value:BuyingRateChargeToEdit.unitId}"
                                        (itemSelected)="BuyingRateChargeToEdit.unitId=$event.id"
                                        [selectedDisplayFields]="['unitNameEn']" [dataSources]="lstUnits"
                                        [displayFields]="[{'field':'unitNameEn','label':'Name EN'},{'field':'unitType','label':'Unit type'}]">
                                    </app-combo-grid-virtual-scroll>

                                    <div class="form-control-feedback"
                                        *ngIf="editBuyingRateChargeFormOps.submitted && BuyingRateChargeToEdit.unitId==null">
                                        Unit is required
                                    </div>


                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': editBuyingRateChargeFormOps.submitted &&(BuyingRateChargeUnitPriceNameOps.invalid || (0 >= BuyingRateChargeToEdit.unitPrice)) }">
                                    <label class="form-control-label" for="">
                                        Unit price <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        [disabled]="BuyingRateChargeToEdit.soano!=null"
                                        [(ngModel)]="BuyingRateChargeToEdit.unitPrice"
                                        (keyup)="calculateTotalEachBuying()" placeholder="Enter text"
                                        #BuyingRateChargeUnitPriceNameOps="ngModel" required
                                        name="BuyingRateChargeUnitPriceNameOps">
                                    <div class="form-control-feedback"
                                        *ngIf="editBuyingRateChargeFormOps.submitted &&(BuyingRateChargeUnitPriceNameOps.invalid || (0 >= BuyingRateChargeToEdit.unitPrice))">
                                        Unit Price is required and must be larger than 0 !
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': editBuyingRateChargeFormOps.submitted && BuyingRateChargeToEdit.currencyId===null }">
                                    <label class="form-control-label" for="">
                                        Currency <span class="m--font-danger">(*)</span>
                                    </label>

                                    <ng-select [allowClear]="true" [items]="lstCurrencies"
                                        [disabled]="BuyingRateChargeToEdit.soano!=null"
                                        [active]="[{'text':BuyingRateChargeToEdit.currency,'id':BuyingRateChargeToEdit.currencyId}]"
                                        (data)="refreshValue($event)"
                                        (selected)="BuyingRateChargeToEdit.currencyId=$event.id"
                                        (removed)="BuyingRateChargeToEdit.currencyId=null" placeholder="Select filter">
                                    </ng-select>

                                    <div class="form-control-feedback"
                                        *ngIf="editBuyingRateChargeFormOps.submitted && BuyingRateChargeToEdit.currencyId===null">
                                        Currency is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': editBuyingRateChargeFormOps.submitted && BuyingRateChargeVATNameOps.invalid }">
                                    <label class="form-control-label" for="">
                                        VAT <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="number" max="100" name="BuyingRateChargeVATNameOps" required
                                        [disabled]="BuyingRateChargeToEdit.soano!=null"
                                        #BuyingRateChargeVATNameOps="ngModel"
                                        [(ngModel)]="BuyingRateChargeToEdit.vatrate"
                                        class="form-control m-input m-input--square" placeholder="Enter text"
                                        (keyup)="calculateTotalEachBuying()">
                                    <div class="form-control-feedback"
                                        *ngIf="editBuyingRateChargeFormOps.submitted && BuyingRateChargeVATNameOps.invalid">
                                        VAT is required and must be less than or equal 100
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Total
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square" disabled
                                        placeholder="Enter text" name="BuyingRateChargeTotalNameOps"
                                        [(ngModel)]="BuyingRateChargeToEdit.total">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Doc no
                                    </label>
                                    <input type="text" [(ngModel)]="BuyingRateChargeToEdit.docNo"
                                        class="form-control m-input m-input--square" placeholder="Enter text"
                                        name="BuyingRateChargeDocNameOps">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Note
                                    </label>
                                    <input type="text" [(ngModel)]="BuyingRateChargeToEdit.notes"
                                        [disabled]="BuyingRateChargeToEdit.soano!=null"
                                        class="form-control m-input m-input--square" placeholder="Enter text"
                                        name="BuyingRateChargeNoteNameOps">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        &nbsp;
                                    </label>
                                    <div>
                                        <label class="m-checkbox m-checkbox--bold">
                                            <input type="checkbox" name="BuyingRateChargeKickBackNameOps"
                                                [disabled]="BuyingRateChargeToEdit.soano!=null"
                                                [(ngModel)]="BuyingRateChargeToEdit.kickBack">
                                            Kick back
                                            <span></span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--end::Form-->
                </div>
                <div class="modal-footer m--align-center">
                    <button type="submit" class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase" (click)="BuyingRateChargeToEdit.exchangeDate=(BuyingRateChargeToEdit.exchangeDate)==null?null:BuyingRateChargeToEdit.exchangeDate.startDate;
                        editBuyingRateCharge(editBuyingRateChargeFormOps)">
                        <span>
                            <i class="la la-save"></i>
                            <span>
                                Edit
                            </span>
                        </span>
                    </button>
                    <button type="button"
                        (click)="resetChargeForm('ops-edit-buying-rate-modal',editBuyingRateChargeFormOps)"
                        class="btn btn-cancel m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-ban"></i>
                            <span>
                                cancel
                            </span>
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>
<!--end:: Edit-buying-rate-modal-->

<!--begin:: add-selling-rate-modal-->
<form name="addSellingRateChargeForm">
    <div class="modal fade" id="add-selling-rate-modal" data-backdrop="static" role="dialog" aria-labelledby=""
        aria-hidden="true">
        <div class="modal-dialog c-modal-fullscreen" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add selling charge</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!--begin::Form-->
                    <div class="m-form m-form--state">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Charge <span class="m--font-danger">(*)</span>
                                        <small class="m--margin-left-5 m--font-primary">ChargeCode&nbsp;</small>
                                    </label>
                                    <div class="dropdown e--combogrid" #selectedSellingCharge>
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" value=""
                                            title="">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Charge code22</th>
                                                                    <th>Name EN</th>
                                                                    <th>Name VN</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data-id="">
                                                                <td>item.charge.code</td>
                                                                <td>item.charge.chargeNameEn</td>
                                                                <td>item.charge.chargeNameVn</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-control-feedback" style="display: none">
                                            Charge is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Partner type <span class="m--font-danger">(*)</span>
                                    </label>
                                    <!-- <ng-select 
                                            [allowClear]="true" 
                                            [items]="partnerTypes" 
                                            [disabled]="disabled"
                                            (data)="refreshValue($event)"
                                            (selected)="SellingRateChargeToAdd.objectBePaid=$event.id;
                                            SellingRateChargeToAdd.objectBePaid==='AGENT'? SellingRateChargeToAdd.paymentObjectId=MasterBillData.agentId:null;
                                            SellingRateChargeToAdd.objectBePaid==='CUSTOMER'? SellingRateChargeToAdd.paymentObjectId=houseBillSelected.customerId:null;
                                            SellingRateChargeToAdd.objectBePaid==='CUSTOMER'? selectedSellingRatePartner.value=houseBillSelected.customerName:null;
                                            SellingRateChargeToAdd.objectBePaid==='AGENT'? selectedSellingRatePartner.value=MasterBillData.agentName:null;
                                            SellingRateChargeToAdd.objectBePaid==='OTHER'? selectedSellingRatePartner.value=null:null;
                                            SellingRateChargeToAdd.objectBePaid==='OTHER'? SellingRateChargeToAdd.paymentObjectId=null:null;selectPartnerType();"
                                            (removed)="SellingRateChargeToAdd.objectBePaid=null;SellingRateChargeToAdd.paymentObjectId=null;selectedSellingRatePartner.value=null"
                                            (typed)="typed($event)" 
                                            placeholder="Select filter">
                                        </ng-select> -->
                                    <ng-select [allowClear]="true" [items]="items" [disabled]="disabled"
                                        (data)="refreshValue($event)" (selected)="selected($event)"
                                        (removed)="removed($event)" (typed)="typed($event)" placeholder="Select filter">
                                    </ng-select>
                                    <div class="form-control-feedback" style="display: none">
                                        Partner type is required !
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Partner name <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid">
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" value=""
                                            title="">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Partner name</th>
                                                                    <th>Name ABBR</th>
                                                                    <th>Name EN</th>
                                                                    <th>Tax code</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data-id="1">
                                                                <td>item.id</td>
                                                                <td>item.shortName</td>
                                                                <td>item.partnerNameEn</td>
                                                                <td>item.taxCode</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-control-feedback" style="display: none">
                                            Partner name is required !
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Quantity <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" required name="sellingRateChangeQuantityName">
                                    <div class="form-control-feedback" style="display: none">
                                        Quantity is required !
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Unit <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid">
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" value="">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Name EN</th>
                                                                    <th>Unit type</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data-id="i">
                                                                <td>item.unitNameEn</td>
                                                                <td>item.unitType</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class="form-control-feedback" style="display: none">
                                                    Unit is required
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Unit price <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" required name="SellingRateChargeUnitPriceName">
                                    <div class="form-control-feedback" style="display: none">
                                        Unit Price is required and must be larger than 0 !
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Currency <span class="m--font-danger">(*)</span>
                                    </label>
                                    <!-- <ng-select 
                                            [allowClear]="true" 
                                            [items]="comboBoxData.lstCurrency"
                                            [disabled]="disabled" 
                                            (data)="refreshValue($event)"
                                            (selected)="SellingRateChargeToAdd.currencyId=$event.id"
                                            (removed)="SellingRateChargeToAdd.currencyId=null"
                                            (typed)="getListCurrency($event)" 
                                            placeholder="Select filter">
                                        </ng-select> -->
                                    <ng-select [allowClear]="true" [items]="items" [disabled]="disabled"
                                        (data)="refreshValue($event)" (selected)="selected($event)"
                                        (removed)="removed($event)" (typed)="typed($event)" placeholder="Select filter">
                                    </ng-select>
                                    <div class="form-control-feedback" style="display: none">
                                        Currency is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        VAT <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="number" max="100" name="BuyingRateChargeVATName" required
                                        class="form-control m-input m-input--square" placeholder="Enter text">
                                    <div class="form-control-feedback" style="display: none">
                                        VAT is required and must be less than or equal 100
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Total
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square" disabled
                                        placeholder="Enter text" name="BuyingRateChargeTotalName">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Doc no
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" name="SellingRateChargeDocName">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Note
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" name="SellingRateChargeNoteName">
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--end::Form-->
                </div>
                <div class="modal-footer m--align-center">
                    <button class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-plus"></i>
                            <span>
                                save & continue
                            </span>
                        </span>
                    </button>
                    <button class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-save"></i>
                            <span>
                                save
                            </span>
                        </span>
                    </button>
                    <button type="button" class="btn btn-cancel m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-ban"></i>
                            <span>
                                cancel
                            </span>
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>
<!--end:: add-selling-rate-modal-->

<!--begin:: Edit-selling-rate-modal-->
<form name="editSellingRateChargeForm">
    <div class="modal fade" id="edit-selling-rate-modal" data-backdrop="static" role="dialog" aria-labelledby=""
        aria-hidden="true">
        <div class="modal-dialog c-modal-fullscreen" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit selling rate</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!--begin::Form-->
                    <div class="m-form m-form--state">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Charge <span class="m--font-danger">(*)</span>
                                        <small class="m--margin-left-5 m--font-primary">chargeCode&nbsp;</small>
                                    </label>
                                    <div class="dropdown e--combogrid">
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" value=""
                                            title="charge">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Charge code</th>
                                                                    <th>Name EN</th>
                                                                    <th>Name VN</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data-id="i">
                                                                <td>item.charge.code</td>
                                                                <td>item.charge.chargeNameEn</td>
                                                                <td>item.charge.chargeNameVn</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-control-feedback">
                                        Charge is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Partner type <span class="m--font-danger">(*)</span>
                                    </label>
                                    <!-- <ng-select 
                                            [allowClear]="true" 
                                            [items]="partnerTypes" 
                                            [disabled]="SellingRateChargeToEdit.soano!=null"
                                            [active]="[{'text':SellingRateChargeToEdit.objectBePaid,'id':SellingRateChargeToEdit.objectBePaid}]"
                                            (data)="refreshValue($event)"
                                            (selected)="SellingRateChargeToEdit.objectBePaid=$event.id;
                                                    SellingRateChargeToEdit.objectBePaid==='AGENT'? SellingRateChargeToEdit.paymentObjectId=MasterBillData.agentId:null;
                                                    SellingRateChargeToEdit.objectBePaid==='CUSTOMER'? SellingRateChargeToEdit.paymentObjectId=houseBillSelected.customerId:null;
                                                    SellingRateChargeToEdit.objectBePaid==='CUSTOMER'? SellingRateChargeToEdit.partnerName=houseBillSelected.customerName:null;
                                                    SellingRateChargeToEdit.objectBePaid==='AGENT'? SellingRateChargeToEdit.partnerName=MasterBillData.agentName:null;
                                                    SellingRateChargeToEdit.objectBePaid==='OTHER'? SellingRateChargeToEdit.partnerName=null:null;
                                                    SellingRateChargeToEdit.objectBePaid==='OTHER'? SellingRateChargeToEdit.paymentObjectId=null:null;selectPartnerType();"
                                            (removed)="BuyingRateChargeToAdd.objectBePaid=null;SellingRateChargeToEdit.paymentObjectId=null;selectedSellingRatePartnerEdt.value=null"
                                            (typed)="typed($event)" 
                                            placeholder="Select filter">
                                        </ng-select> -->
                                    <ng-select [allowClear]="true" [items]="items" [disabled]="disabled"
                                        (data)="refreshValue($event)" (selected)="selected($event)"
                                        (removed)="removed($event)" (typed)="typed($event)" placeholder="Select filter">
                                    </ng-select>
                                    <div class="form-control-feedback">
                                        Partner type is required !
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Partner name <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid">
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" value=""
                                            title="">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Partner ID</th>
                                                                    <th>Name ABBR</th>
                                                                    <th>Name EN</th>
                                                                    <th>Tax code</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data-id="1">
                                                                <td>item.id</td>
                                                                <td>item.shortName</td>
                                                                <td>item.partnerNameEn</td>
                                                                <td>item.taxCode</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-control-feedback">
                                            Partner name is required !
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Quantity <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="text" required class="form-control m-input m-input--square"
                                        placeholder="Enter text" name="sellingRateChangeQuantityNameEdt">
                                    <div class="form-control-feedback" style="display: none">
                                        Quantity is required !
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Unit <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid">
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" value="">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Name EN</th>
                                                                    <th>Unit type</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data-id="i">
                                                                <td>item.unitNameEn</td>
                                                                <td>item.unitType</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class="form-control-feedback" style="display: none">
                                                    Unit is required
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Unit price <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" required name="SellingRateChargeUnitPriceNameEdt">
                                    <div class="form-control-feedback" style="display: none">
                                        Unit Price is required and must be larger than 0 !
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Currency <span class="m--font-danger">(*)</span>
                                    </label>
                                    <!-- <ng-select 
                                            [allowClear]="true" 
                                            [items]="comboBoxData.lstCurrency"
                                            [active]="[{'text':SellingRateChargeToEdit.currency,'id':SellingRateChargeToEdit.currencyId}]"
                                            [disabled]="SellingRateChargeToEdit.soano!=null" 
                                            (data)="refreshValue($event)"
                                            (selected)="SellingRateChargeToEdit.currencyId=$event.id;SellingRateChargeToEdit.currency=$event.text"
                                            (removed)="SellingRateChargeToEdit.currencyId=null"
                                            (typed)="getListCurrency($event)" 
                                            placeholder="Select filter">
                                        </ng-select> -->
                                    <ng-select [allowClear]="true" [items]="items" [disabled]="disabled"
                                        (data)="refreshValue($event)" (selected)="selected($event)"
                                        (removed)="removed($event)" (typed)="typed($event)" placeholder="Select filter">
                                    </ng-select>
                                    <div class="form-control-feedback">
                                        Currency is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        VAT <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="number" name="SellingRateChargeVATNameEdt" required max="100"
                                        class="form-control m-input m-input--square" placeholder="Enter text">
                                    <div class="form-control-feedback" style="display: none">
                                        VAT is required and must be less than or equal 100
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Total
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square" disabled
                                        placeholder="Enter text" name="SellingRateChargeTotalNameEdt">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Doc no
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" name="SellingRateChargeDocNameEdt">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Note
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" name="SellingRateChargeNoteNameEdt">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Exchange rate date
                                    </label>
                                    <div class="m-input-icon m-input-icon--right down">
                                        <input type="text" class="form-control m-input m-input--square"
                                            ngxDaterangepickerMd [autoApply]="true" [disabled]=""
                                            [locale]="{applyLabel: 'ok', format: 'DD/MM/YYYY'}"
                                            [(ngModel)]="selectedDate" [singleDatePicker]="true"
                                            name="SellingRateChargeExchangeDateNameEdt" readonly />
                                        <span class="m-input-icon__icon m-input-icon__icon--right">
                                            <span>
                                                <i class="la la-calendar"></i>
                                            </span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--end::Form-->
                </div>
                <div class="modal-footer m--align-center">
                    <button class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-save"></i>
                            <span>
                                Edit
                            </span>
                        </span>
                    </button>
                    <button type="button" class="btn btn-cancel m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-ban"></i>
                            <span>
                                cancel
                            </span>
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>
<!--end:: Edit-selling-rate-modal-->

<!--begin:: add-obh-charge-modal-->
<form name="addOBHChargeForm">
    <div class="modal fade" id="add-obh-charge-modal" data-backdrop="static" role="dialog" aria-labelledby=""
        aria-hidden="true">
        <div class="modal-dialog c-modal-fullscreen" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add OBH charge</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!--begin::Form-->
                    <div class="m-form m-form--state">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Charge <span class="m--font-danger">(*)</span>
                                        <small class="m--margin-left-5 m--font-primary">ChargeCode&nbsp;</small>
                                    </label>
                                    <div class="dropdown e--combogrid">
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" value=""
                                            title="">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Charge code</th>
                                                                    <th>Name EN</th>
                                                                    <th>Name VN</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data-id="i">
                                                                <td>item.charge.code</td>
                                                                <td>item.charge.chargeNameEn</td>
                                                                <td>item.charge.chargeNameVn</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-control-feedback" style="display: none">
                                            Charge is required
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Receiver <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid">
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" value=""
                                            title="">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Partner name</th>
                                                                    <th>Name ABBR</th>
                                                                    <th>Name EN</th>
                                                                    <th>Tax code</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data-id="1">
                                                                <td>item.id</td>
                                                                <td>item.shortName</td>
                                                                <td>item.partnerNameEn</td>
                                                                <td>item.taxCode</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-control-feedback" style="display: none">
                                            Receiver name is required and do not same with payer!
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Payer <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid">
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" value=""
                                            title="">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Partner name</th>
                                                                    <th>Name ABBR</th>
                                                                    <th>Name EN</th>
                                                                    <th>Tax code</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data-id="1">
                                                                <td>item.id</td>
                                                                <td>item.shortName</td>
                                                                <td>item.partnerNameEn</td>
                                                                <td>item.taxCode</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-control-feedback" style="display: none">
                                            Payer name is required and do not same with receiver!
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Quantity <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" required name="OBHQuantityName">
                                    <div class="form-control-feedback" style="display: none">
                                        Quantity is required !
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Unit <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid">
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" value="">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Name EN</th>
                                                                    <th>Unit type</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data-id="i">
                                                                <td>item.unitNameEn</td>
                                                                <td>item.unitType</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                                <div class="form-control-feedback" style="display: none">
                                                    Unit is required
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Unit price <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" required name="OBHUnitPriceName">
                                    <div class="form-control-feedback" style="display: none">
                                        Unit Price is required and must be larger than 0 !
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Currency <span class="m--font-danger">(*)</span>
                                    </label>
                                    <!-- <ng-select 
                                            [allowClear]="true" 
                                            [items]="comboBoxData.lstCurrency"
                                            [disabled]="disabled" 
                                            (data)="refreshValue($event)"
                                            (selected)="OBHChargeToAdd.currencyId=$event.id"
                                            (removed)="OBHChargeToAdd.currencyId=null" 
                                            (typed)="getListCurrency($event)"
                                            placeholder="Select filter">
                                        </ng-select> -->
                                    <ng-select [allowClear]="true" [items]="items" [disabled]="disabled"
                                        (data)="refreshValue($event)" (selected)="selected($event)"
                                        (removed)="removed($event)" (typed)="typed($event)" placeholder="Select filter">
                                    </ng-select>
                                    <div class="form-control-feedback" style="display: none">
                                        Currency is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        VAT <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="number" max="100" name="OBHChargeVATName" required
                                        class="form-control m-input m-input--square" placeholder="Enter text">
                                    <div class="form-control-feedback" style="display: none">
                                        VAT is required and must be less than or equal 100
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Total
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square" disabled
                                        placeholder="Enter text" name="OBHChargeTotalName">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Doc no
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" name="OBHChargeDocName">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Note
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" name="OBHChargeNoteName">
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--end::Form-->
                </div>
                <div class="modal-footer m--align-center">
                    <button class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-plus"></i>
                            <span>
                                save & continue
                            </span>
                        </span>
                    </button>
                    <button class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-save"></i>
                            <span>
                                save
                            </span>
                        </span>
                    </button>
                    <button type="button" class="btn btn-cancel m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-ban"></i>
                            <span>
                                cancel
                            </span>
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>
<!--end:: add-obh-charge-modal-->

<!--begin:: edit-obh-charge-modal-->
<form name="editOBHChargeForm">
    <div class="modal fade" id="edit-obh-charge-modal" data-backdrop="static" role="dialog" aria-labelledby=""
        aria-hidden="true">
        <div class="modal-dialog c-modal-fullscreen" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit OBH rate</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!--begin::Form-->
                    <div class="m-form m-form--state">
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Charge <span class="m--font-danger">(*)</span>
                                        <small class="m--margin-left-5 m--font-primary">chargeCode&nbsp;</small>
                                    </label>
                                    <div class="dropdown e--combogrid">
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" title="">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Charge code</th>
                                                                    <th>Name EN</th>
                                                                    <th>Name VN</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data="">
                                                                <td>item.charge.code</td>
                                                                <td>item.charge.chargeNameEn</td>
                                                                <td>item.charge.chargeNameVn</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-control-feedback" style="display: none">
                                            Charge is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Receiver <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid">
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" value=""
                                            title="">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Partner name</th>
                                                                    <th>Name ABBR</th>
                                                                    <th>Name EN</th>
                                                                    <th>Tax code</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data-id="1">
                                                                <td>item.id</td>
                                                                <td>item.shortName</td>
                                                                <td>item.partnerNameEn</td>
                                                                <td>item.taxCode</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-control-feedback" style="display: none">
                                            Receiver name is required !
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Payer <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid">
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" value=""
                                            title="">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Partner name</th>
                                                                    <th>Name ABBR</th>
                                                                    <th>Name EN</th>
                                                                    <th>Tax code</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data-id="1">
                                                                <td>item.id</td>
                                                                <td>item.shortName</td>
                                                                <td>item.partnerNameEn</td>
                                                                <td>item.taxCode</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-control-feedback" style="display: none">
                                            Receiver name is required !
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Quantity <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" required name="OBHQuantityNameEdt">
                                    <div class="form-control-feedback" style="display: none">
                                        Quantity is required !
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Unit <span class="m--font-danger">(*)</span>
                                    </label>
                                    <div class="dropdown e--combogrid">
                                        <input class="form-control m-input m-input--square dropdown-toggle" type="text"
                                            readonly data-toggle="dropdown" placeholder="Please selected" value="">
                                        <div class="dropdown-menu e--combogrid-content">
                                            <div class="tabel-wrapper table-fixed">
                                                <div class="table-head-fixed">
                                                    <div class="table-filter-block">
                                                        <div class="search-field">
                                                            <input class="form-control m-input m-input--square"
                                                                type="text" placeholder="Search...">
                                                            <i class="icon-search"></i>
                                                        </div>
                                                    </div>
                                                    <div class="table-header">
                                                        <table class="table table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>Name EN</th>
                                                                    <th>Unit type</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                </div>
                                                <div class="table-body-scroll">
                                                    <table class="table table-hover">
                                                        <tbody>
                                                            <tr class="data-row" data-id="i">
                                                                <td>item.unitNameEn</td>
                                                                <td>item.unitType</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-control-feedback" style="display: none">
                                            Unit is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Unit price <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" required name="OBHUnitPriceNameEdt">
                                    <div class="form-control-feedback" style="display: none">
                                        Unit Price is required and must be larger than 0 !
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Currency <span class="m--font-danger">(*)</span>
                                    </label>
                                    <!-- <ng-select 
                                            [allowClear]="true" 
                                            [items]="comboBoxData.lstCurrency"
                                            [disabled]="OBHChargeToEdit.soano!=null"
                                            [active]="[{'text':OBHChargeToEdit.currency,'id':OBHChargeToEdit.currencyId}]"
                                            (data)="refreshValue($event)" 
                                            (selected)="OBHChargeToEdit.currencyId=$event.id"
                                            (removed)="OBHChargeToEdit.currencyId=null" 
                                            (typed)="getListCurrency($event)"
                                            placeholder="Select filter">
                                        </ng-select> -->
                                    <ng-select [allowClear]="true" [items]="items" [disabled]="disabled"
                                        (data)="refreshValue($event)" (selected)="selected($event)"
                                        (removed)="removed($event)" (typed)="typed($event)" placeholder="Select filter">
                                    </ng-select>
                                    <div class="form-control-feedback" style="display: none">
                                        Currency is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        VAT <span class="m--font-danger">(*)</span>
                                    </label>
                                    <input type="number" max="100" name="OBHChargeVATNameEdt" required
                                        class="form-control m-input m-input--square" placeholder="Enter text">
                                    <div class="form-control-feedback" style="display: none">
                                        VAT is required and must be less than or equal 100
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Total
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square" disabled
                                        placeholder="Enter text" name="OBHChargeTotalNameEdt">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Doc no
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" name="OBHChargeDocName">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Note
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        placeholder="Enter text" name="OBHChargeNoteName">
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Exchange rate date
                                    </label>
                                    <div class="m-input-icon m-input-icon--right down">
                                        <input type="text" class="form-control m-input m-input--square"
                                            ngxDaterangepickerMd [autoApply]="true" [disabled]=""
                                            [locale]="{applyLabel: 'ok', format: 'DD/MM/YYYY'}"
                                            [(ngModel)]="selectedDate" [singleDatePicker]="true"
                                            name="OBHExchangeDateNameEdt" readonly />
                                        <span class="m-input-icon__icon m-input-icon__icon--right">
                                            <span>
                                                <i class="la la-calendar"></i>
                                            </span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--end::Form-->
                </div>
                <div class="modal-footer m--align-center">
                    <button class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-save"></i>
                            <span>
                                Edit
                            </span>
                        </span>
                    </button>
                    <button type="button" class="btn btn-cancel m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-ban"></i>
                            <span>
                                cancel
                            </span>
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>
<!--end:: Edit-obh-charge-modal-->

<!--begin::confirm-delete-charge-modal-->
<div class="modal fade" id="ops-confirm-delete-charge-modal" data-backdrop="static" role="dialog" aria-labelledby=""
    aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Cancel</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="confirm-text-block">
                    <span>Are you sure want to delete this Charge?</span>
                </div>
            </div>
            <div class="modal-footer m--align-center c-button-actions">
                <button type="button" class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase"
                    data-dismiss="modal" (click)="DeleteCharge('ok')">
                    <span>
                        <i class="la la-save"></i>
                        <span>
                            Yes
                        </span>
                    </span>
                </button>
                <button type="reset" class="btn m-btn--square m-btn--icon m-btn--uppercase" data-dismiss="modal">
                    <span>
                        <i class="la la-ban"></i>
                        <span>
                            No
                        </span>
                    </span>
                </button>
            </div>
        </div>
    </div>
</div>
<!--end::confirm-delete-charge-modal-->