<div class="sea-fcl-export-detail-job-page">
    <app-sub-header>
        <div class="c-button-actions">
            <div class="dropdown m-dropdown m-dropdown--inline">
                <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
                    <i class="la la-print"></i>P/L Sheet<span class="caret"></span>
                </button>
                <div class="dropdown-menu">
                    <a class="dropdown-item" (click)="previewPLsheet('USD')">Preview with USD</a>
                    <a class="dropdown-item" (click)="previewPLsheet('VND')">Preview with VND</a>
                </div>
            </div>

            <button type="button" class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase">
                <span>
                    <i class="la la-search-plus"></i>
                    <span>
                        Duplicate Job Detail
                    </span>
                </span>
            </button>

            <button type="button" class="btn btn-danger m-btn--square m-btn--icon m-btn--uppercase"
                (click)="deleteJob()">
                <span>
                    <i class="la la-trash"></i>
                    <span>
                        Delete
                    </span>
                </span>
            </button>

            <app-default-button [buttonSetting]="saveButtonSetting" (onClick)="onSaveJob()"
                [disabled]="selectedTab !== 'SHIPMENT'">
            </app-default-button>

            <app-default-button [buttonSetting]="cancelButtonSetting" (onClick)="gotoList()"></app-default-button>

        </div>
    </app-sub-header>
</div>

<div class="m-content">
    <div class="m-portlet__body">
        <tabset class="custom-class-tab">
            <tab heading="Shipment Detail" (selectTab)="onSelectTab('shipment')">

                <form-create-sea-fcl-export>
                    <div class="row m--margin-top-20" *ngIf="!!shipmentDetail">
                        <div class="col-md-4">
                            <span>Created: {{shipmentDetail.datetimeCreated | date: 'dd/MM/yyyy HH:mm'}} by </span>
                            <span class="text-success">{{shipmentDetail.userCreated}}</span>
                        </div>
                        <div class="col-md-4">
                            <span>Modified: {{shipmentDetail.datetimeModified | date: 'dd/MM/yyyy HH:mm'}} by
                            </span> <span class="text-success">{{shipmentDetail.userModified}}</span>
                        </div>
                    </div>
                </form-create-sea-fcl-export>

                <shipment-good-summary> Shipment Goods Summary </shipment-good-summary>

                <grant-total-profit></grant-total-profit>

            </tab>
            <tab heading="House Bills List" (selectTab)="onSelectTab('hbl')" [active]="selectedTab === 'HBL'">
                <ng-container *ngIf="selectedTab === 'HBL'">
                </ng-container>
            </tab>
            <tab heading="Debit Note & Credit Note" (selectTab)="onSelectTab('cdNote')"
                [active]="selectedTab === 'CDNOTE'">
                <ng-container *ngIf="selectedTab === 'CDNOTE'" loadModule="SeaFCLExport_cdNote">
                </ng-container>
            </tab>
            <tab heading="Assignment" (selectTab)="onSelectTab('assignment')" [active]="selectedTab === 'ASSIGNMENT'">
                <ng-container *ngIf="selectedTab === 'ASSIGNMENT'" loadModule="SeaFCLExport_assignment">
                </ng-container>
            </tab>
        </tabset>
    </div>
    <ul class="m-nav-sticky fms-shipment-sidebar">
        <li class="m-nav-sticky__item">
            <a title="Preview Manifest" [routerLink]="['./manifest']">MNF</a>
        </li>
        <li class="m-nav-sticky__item">
            <a title="Preview Shipping Instruction" [routerLink]="['./si']">SI</a>
        </li>
    </ul>
</div>

<ng-container *ngIf="dataReport">
    <app-report-preview [data]="dataReport"></app-report-preview>
</ng-container>

<confirm-popup #confirmDeleteJob [body]="'You you sure you want to delete this Job'" [title]="'Alert'"
    [labelConfirm]="'Yes'" (onSubmit)="onDeleteJob()"></confirm-popup>