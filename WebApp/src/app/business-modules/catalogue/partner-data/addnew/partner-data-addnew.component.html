<form name="formAddEdit" #formAddEdit="ngForm" novalidate (ngSubmit)="formAddEdit.form.valid">

    <!--begin:: subheader-->
    <div class="m-subheader">
        <div class="d-flex align-items-center">
            <div class="mr-auto">
                <app-breadcrumb></app-breadcrumb>
            </div>
            <div class="c-button-actions">
                <button type="" class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase" (click)="onSubmit()">
                    <span>
                        <i class="la la la-save"></i>
                        <span>
                            Save
                        </span>
                    </span>
                </button>
                <button type="button" class="btn m-btn--square m-btn--icon m-btn--uppercase"
                    routerLink="/home/catalogue/partner-data">
                    <span>
                        <i class="la la-ban"></i>
                        <span>
                            cancel
                        </span>
                    </span>
                </button>
            </div>
        </div>
    </div>
    <!--end:: subheader-->
    <!--begin::m-content of Partner-data-addnew-->
    <div class="m-content">
        <!--begin::Form-->
        <div class="m-form m-form--state">
            <!--begin::m-portlet -->
            <div class="m-portlet m-portlet--danger m-portlet--head-solid-bg m-portlet--bordered">
                <div class="alert-block__heading">
                    <h3 class="alert-block__title">General Information</h3>
                </div>
                <div class="m-portlet__body">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partnerAccountNo.invalid }">
                                <label class="form-control-label" for="">
                                    Partner ID <span class="m--font-danger"></span>
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder="" disabled
                                    name="partnerAccountNo" autocomplete="nope" minlength="3" maxlength="20"
                                    [(ngModel)]="partner.accountNo" #partnerAccountNo="ngModel"
                                    (change)="partner.accountNo = partner.taxCode.trim()" specialIsAlphaNumeric
                                    [ngClass]="{ 'm-input--square': formAddEdit.submitted && partnerAccountNo.invalid }"
                                    required>
                                <div class="form-control-feedback"
                                    *ngIf="formAddEdit.submitted && partnerAccountNo.invalid">
                                    Partner ID required least 3 characters
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && nameENFull.invalid }">
                                <label class="form-control-label" for="">
                                    Partner Name EN Full <span class="m--font-danger">(*)</span>
                                </label>
                                <input type="text" class="form-control m-input m-input--square" autofocus
                                    placeholder="Please enter Name EN Full" name="nameENFull" autocomplete="nope"
                                    minlength="3" maxlength="100" [(ngModel)]="partner.partnerNameEn"
                                    #nameENFull="ngModel"
                                    (change)="partner.partnerNameEn = partner.partnerNameEn.trim()"
                                    [ngClass]="{ 'm-input--square': formAddEdit.submitted && nameENFull.invalid }"
                                    required>
                                <div class="form-control-feedback" *ngIf="formAddEdit.submitted && nameENFull.invalid">
                                    Partner Name EN Full is required
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && nameLocalFull.invalid }">
                                <label class="form-control-label" for="">
                                    Partner Name Local Full <span class="m--font-danger">(*)</span>
                                </label>
                                <input type="text" class="form-control m-input m-input--square"
                                    placeholder="Please enter Name Local" name="nameLocalFull" autocomplete="nope"
                                    minlength="3" maxlength="100" [(ngModel)]="partner.partnerNameVn"
                                    #nameLocalFull="ngModel"
                                    (change)="partner.partnerNameVn = partner.partnerNameVn.trim()"
                                    [ngClass]="{ 'm-input--square': formAddEdit.submitted && nameLocalFull.invalid }"
                                    required>
                                <div class="form-control-feedback"
                                    *ngIf="formAddEdit.submitted && nameLocalFull.invalid">
                                    Partner Name Local Full is required
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && nameAbreviation.invalid }">
                                <label class="form-control-label" for="">
                                    Partner Name Abreviation <span class="m--font-danger">(*)</span>
                                </label>
                                <input type="text" class="form-control m-input m-input--square"
                                    placeholder="please enter Name Abreviation" name="nameAbreviation"
                                    autocomplete="nope" minlength="3" maxlength="100" [(ngModel)]="partner.shortName"
                                    #nameAbreviation="ngModel" (change)="partner.shortName = partner.shortName.trim()"
                                    [ngClass]="{ 'm-input--square': formAddEdit.submitted && nameAbreviation.invalid }"
                                    required>
                                <div class="form-control-feedback"
                                    *ngIf="formAddEdit.submitted && nameAbreviation.invalid">
                                    Partner Name Abreviation is required
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    A/C Ref
                                </label>
                                <ng-select #chooseAccountRef [allowClear]="true" [items]="parentCustomers"
                                    [disabled]="disabled" (data)="refreshValue($event)" name="partnerAccountRef"
                                    (selected)="partner.parentId = $event.id" (removed)="partner.parentId = null"
                                    placeholder="Select A/C Ref">
                                </ng-select>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partnerTaxCode.invalid }">
                                <label class="form-control-label" for="">
                                    Tax Code <span class="m--font-danger">(*)</span>
                                </label>
                                <input type="text" min="0" class="form-control m-input m-input--square"
                                    title="Tax code must be number" placeholder="Please enter Tax Code"
                                    autocomplete="nope" minlength="3" maxlength="100" name="partnerTaxCode"
                                    [(ngModel)]="partner.taxCode" #partnerTaxCode="ngModel" ecusSpecicalCharacterNoSpace
                                    [ngClass]="{ 'm-input--square': formAddEdit.submitted && partnerTaxCode.invalid }"
                                    required>
                                <div class="form-control-feedback"
                                    *ngIf="formAddEdit.submitted && partnerTaxCode.invalid">
                                    Partner Tax Code is required and must be number
                                </div>
                            </div>
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partner.partnerGroup == null }">
                                <label class="form-control-label" for="">
                                    Category <span class="m--font-danger">(*)</span>
                                </label>
                                <ng-select [multiple]="true" *ngIf="activeNg" [active]="partnerGroupActives"
                                    [items]="partnerGroups" [disabled]="disabled" (data)="refreshValue($event)"
                                    (selected)="selected($event, 'category')" (removed)="removed($event,'category')"
                                    placeholder="Select partner group">
                                </ng-select>
                                <div class="form-control-feedback"
                                    *ngIf="formAddEdit.submitted && partner.partnerGroup == null">
                                    Category is required
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Internal Reference No
                                </label>
                                <input type="text" [(ngModel)]="partner.internalReferenceNo" name="internalReferenceNo"
                                    class="form-control m-input m-input--square" />
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--end::m-portlet -->

            <!--begin::m-portlet -->
            <div class="m-portlet m-portlet--danger m-portlet--head-solid-bg m-portlet--bordered">
                <div class="alert-block__heading">
                    <h3 class="alert-block__title">Detail Information</h3>
                </div>
                <div class="m-portlet__body">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Contact Person
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder=""
                                    name="partnerContactPerson" autocomplete="nope" [(ngModel)]="partner.contactPerson"
                                    (change)="partner.contactPerson = partner.contactPerson.trim()">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Contact Phone Number
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder=""
                                    maxlength="50" name="partnerContactNumber" autocomplete="nope"
                                    [(ngModel)]="partner.tel" (change)="partner.tel = partner.tel.trim()">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Fax No
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder=""
                                    maxlength="50" name="partnerContactFaxNo" autocomplete="nope"
                                    [(ngModel)]="partner.fax" (change)="partner.fax = partner.fax.trim()">
                            </div>
                        </div>
                    </div>
                    <div class="div-inside bg-secondary m--margin-bottom-15">
                        <h3 class="c-block-title">Billing Address</h3>
                        <hr>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="form-group"
                                            [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partner.countryId == null }">
                                            <label class="form-control-label">
                                                Country <span class="m--font-danger">(*)</span>
                                            </label>
                                            <ng-select #chooseBillingCountry [allowClear]="true" [items]="countries"
                                                [disabled]="disabled" (data)="refreshValue($event)"
                                                (selected)="selected($event, 'billingCountry')"
                                                (removed)="removed($event, 'billingCountry')" (typed)="typed($event)"
                                                placeholder="Select country">
                                            </ng-select>
                                            <div class="form-control-feedback"
                                                *ngIf="formAddEdit.submitted && partner.countryId == null">
                                                Country is required
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group"
                                            [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partner.provinceId == null }">
                                            <label class="form-control-label">
                                                City <span class="m--font-danger">(*)</span>
                                            </label>
                                            <ng-select #chooseBillingProvince [allowClear]="true"
                                                [items]="billingProvinces" [disabled]="disabled"
                                                (data)="refreshValue($event)"
                                                (selected)="selected($event, 'billingProvince')"
                                                (removed)="removed($event, 'billingProvince')" (typed)="typed($event)"
                                                placeholder="Select city/ province">
                                            </ng-select>
                                            <div class="form-control-feedback"
                                                *ngIf="formAddEdit.submitted && partner.provinceId == null">
                                                City is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="form-group">
                                            <label class="form-control-label">
                                                Zipcode
                                            </label>
                                            <input type="text" class="form-control m-input m-input--square"
                                                placeholder="" maxlength="20" autocomplete="nope" name="billingZipcode"
                                                [(ngModel)]="partner.zipCode"
                                                (change)="partner.zipCode = partner.zipCode.trim()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && billingAddressEN.invalid }">
                                    <label class="form-control-label">
                                        Address EN <span class="m--font-danger">(*)</span>
                                    </label>
                                    <textarea class="form-control m-input m-input--square" id="" name="billingAddressEN"
                                        rows="6" maxlength="300" autocomplete="nope" [(ngModel)]="partner.addressEn"
                                        #billingAddressEN="ngModel"
                                        (change)="partner.addressEn = partner.addressEn.trim()" required></textarea>
                                    <div class="form-control-feedback"
                                        *ngIf="formAddEdit.submitted && billingAddressEN.invalid">
                                        Address EN required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && billingAddressLocal.invalid }">
                                    <label class="form-control-label">
                                        Address Local <span class="m--font-danger">(*)</span>
                                    </label>
                                    <textarea class="form-control m-input m-input--square" id=""
                                        #billingAddressLocal="ngModel" rows="6" maxlength="300" autocomplete="nope"
                                        name="billingAddressLocal" [(ngModel)]="partner.addressVn"
                                        (change)="partner.addressVn = partner.addressVn.trim()" required></textarea>
                                    <div class="form-control-feedback"
                                        *ngIf="formAddEdit.submitted && billingAddressLocal.invalid">
                                        Address Local is required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="div-inside bg-secondary">
                        <h3 class="c-block-title">Shipping Address</h3>
                        <hr>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="form-group"
                                            [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partner.countryShippingId == null }">
                                            <label class="form-control-label">
                                                Country <span class="m--font-danger">(*)</span>
                                            </label>
                                            <ng-select #chooseShippingCountry [allowClear]="true" [items]="countries"
                                                [disabled]="disabled" (data)="refreshValue($event)"
                                                (selected)="selected($event, 'shippingCountry')"
                                                (removed)="removed($event, 'shippingCountry')" (typed)="typed($event)"
                                                placeholder="Select country">
                                            </ng-select>
                                            <div class="form-control-feedback"
                                                *ngIf="formAddEdit.submitted && partner.countryShippingId == null">
                                                Country is required
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group"
                                            [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partner.provinceShippingId == null }">
                                            <label class="form-control-label">
                                                City <span class="m--font-danger">(*)</span>
                                            </label>
                                            <ng-select #chooseShippingProvince [allowClear]="true"
                                                [items]="shippingProvinces" [disabled]="disabled"
                                                (data)="refreshValue($event)"
                                                (selected)="selected($event, 'shippingProvince')"
                                                (removed)="removed($event, 'shippingProvince')" (typed)="typed($event)"
                                                placeholder="Select province/ city">
                                            </ng-select>
                                            <div class="form-control-feedback"
                                                *ngIf="formAddEdit.submitted && partner.provinceShippingId == null">
                                                City is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="form-group">
                                            <label class="form-control-label">
                                                Zipcode
                                            </label>
                                            <input type="text" class="form-control m-input m-input--square"
                                                placeholder="" autocomplete="nope" name="shippingZipcode"
                                                [(ngModel)]="partner.zipCodeShipping"
                                                (change)="partner.zipCodeShipping = partner.zipCodeShipping.trim()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && shippingAddressEN.invalid }">
                                    <label class="form-control-label">
                                        Address EN <span class="m--font-danger">(*)</span>
                                    </label>
                                    <textarea class="form-control m-input m-input--square" id="" rows="6"
                                        autocomplete="nope" #shippingAddressEN="ngModel" name="shippingAddressEN"
                                        [(ngModel)]="partner.addressShippingEn"
                                        (change)="partner.addressShippingEn = partner.addressShippingEn.trim()"
                                        required></textarea>
                                    <div class="form-control-feedback"
                                        *ngIf="formAddEdit.submitted && shippingAddressEN.invalid">
                                        Address EN is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && shippingAddressVN.invalid }">
                                    <label class="form-control-label">
                                        Address Local <span class="m--font-danger">(*)</span>
                                    </label>
                                    <textarea class="form-control m-input m-input--square" id="" rows="6"
                                        autocomplete="nope" #shippingAddressVN="ngModel" name="shippingAddressVN"
                                        [(ngModel)]="partner.addressShippingVn"
                                        (change)="partner.addressShippingVn = partner.addressShippingVn.trim()"
                                        required></textarea>
                                    <div class="form-control-feedback"
                                        *ngIf="formAddEdit.submitted && shippingAddressVN.invalid">
                                        Address Local is required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': (partner.salePersonId == null && isRequiredSaleman) }">
                                    <label class="form-control-label">
                                        Saleman <span class="m--font-danger"
                                            *ngIf="partner.salePersonId == null && isRequiredSaleman">(*)</span>
                                    </label>
                                    <ng-select #chooseSaleman [allowClear]="true" [items]="saleMans"
                                        [disabled]="disabled" (data)="refreshValue($event)" name="partnerSaleman"
                                        (selected)="partner.salePersonId = $event.id"
                                        (removed)="partner.salePersonId = null" (typed)="typed($event)" placeholder="">
                                    </ng-select>
                                    <div class="form-control-feedback"
                                        *ngIf="(partner.salePersonId == null && isRequiredSaleman)">
                                        Saleman is required
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Work Phone (Ext No)
                                </label>
                                <input type="text" class="form-control m-input m-input--square" disabled placeholder=""
                                    name="employeeWorkPhone" [(ngModel)]="employee.extNo">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Personal Phone
                                </label>
                                <input type="text" class="form-control m-input m-input--square" disabled placeholder=""
                                    name="employeePhone" [(ngModel)]="employee.tel">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Email Address
                                </label>
                                <input type="text" class="form-control m-input m-input--square" disabled placeholder=""
                                    name="employeeEmail" [(ngModel)]="employee.email">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Localtion (Workplace)
                                </label>
                                <input type="text" class="form-control m-input m-input--square" disabled placeholder=""
                                    name="employeeWorkplace" [(ngModel)]="employee.workplaceAddress">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--end::m-portlet -->

            <!--begin::m-portlet -->
            <div class="m-portlet m-portlet--danger m-portlet--head-solid-bg m-portlet--bordered">
                <div class="alert-block__heading">
                    <h3 class="alert-block__title">Other Information</h3>
                </div>
                <div class="m-portlet__body">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partner.departmentId == null }">
                                <label class="form-control-label" for="">
                                    Department <span class="m--font-danger">(*)</span>
                                </label>
                                <ng-select #chooseDepartment [allowClear]="true" [items]="departments"
                                    [active]="departmentActive" [disabled]="disabled" (data)="refreshValue($event)"
                                    name="partnerAccountRef" (selected)="partner.departmentId = $event.id"
                                    (removed)="partner.departmentId = null" placeholder="Select filter">
                                </ng-select>
                                <div class="form-control-feedback"
                                    *ngIf="formAddEdit.submitted && partner.departmentId == null">
                                    Department is required
                                </div>
                            </div>
                        </div>
                        <!-- <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    A/C Ref
                                </label>
                                <ng-select #chooseAccountRef [allowClear]="true" [items]="parentCustomers"
                                    [disabled]="disabled" (data)="refreshValue($event)" name="partnerAccountRef"
                                    (selected)="partner.parentId = $event.id" (removed)="partner.parentId = null"
                                    placeholder="Select A/C Ref">
                                </ng-select>
                            </div>
                        </div> -->
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Website
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder=""
                                    autocomplete="nope" name="partnerWebsite" [(ngModel)]="partner.website"
                                    (change)="partner.website = partner.website.trim()">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Partners Bank Account
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder=""
                                    name="partnerbankAccountNo" autocomplete="nope" [(ngModel)]="partner.bankAccountNo"
                                    (change)="partner.bankAccountNo = partner.bankAccountNo.trim()">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Bank Name
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder=""
                                    name="partnerBankAccountName" autocomplete="nope"
                                    [(ngModel)]="partner.bankAccountName"
                                    (change)="partner.bankAccountName = partner.bankAccountName.trim()">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Profile
                                </label>
                                <ng-select #chooseWorkplace [allowClear]="true" [items]="workPlaces"
                                    [disabled]="disabled" (data)="refreshValue($event)" name="partnerAccountRef"
                                    (selected)="partner.workPlaceId = $event.id" (removed)="partner.workPlaceId = null"
                                    placeholder="Select filter">
                                </ng-select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-8">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label class="form-control-label" for="">
                                            Swift Code
                                        </label>
                                        <input type="text" class="form-control m-input m-input--square" placeholder=""
                                            name="partnerSwiftCode" [(ngModel)]="partner.swiftCode"
                                            (change)="partner.swiftCode = partner.swiftCode.trim()">
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label class="form-control-label" for="">
                                            Bank Address
                                        </label>
                                        <input type="text" class="form-control m-input m-input--square" placeholder=""
                                            name="partnerBankAccountAddress" autocomplete="nope"
                                            [(ngModel)]="partner.bankAccountAddress"
                                            (change)="partner.bankAccountAddress = partner.bankAccountAddress.trim()">
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <label class="col-lg-2 col-form-label form-control-label">Public</label>
                                <div class="col-lg-10">
                                    <div class="m-checkbox-inline">
                                        <label class="m-checkbox"><input type="checkbox" checked="checked"
                                                [checked]="partner.public"
                                                (change)="partner.public = !partner.public"><span></span></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Note
                                </label>
                                <textarea class="form-control m-input m-input--square" id="" name="partnerNote"
                                    [(ngModel)]="partner.note" autocomplete="nope" rows="6"
                                    (change)="partner.note = partner.note.trim()"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--end::m-portlet -->

            <div class="m-portlet m-portlet--danger m-portlet--head-solid-bg m-portlet--bordered" *ngIf="isShowSaleMan">
                <div class="alert-block__heading">
                    <h3 class="alert-block__title">Sale Man</h3>
                </div>
                <div class="m-portlet__body">
                    <!--begin: Datatable -->
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <div class="m-input-icon m-input-icon--right">
                                    <input type="text" class="form-control m-input m-input--square" placeholder="Search"
                                        [(ngModel)]="keyword" name=keyword>
                                    <span class="m-input-icon__icon m-input-icon__icon--right">
                                        <span>
                                            <i class="la la-search"></i>
                                        </span>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-8 m--align-right">
                            <div class="form-group">
                                <button type="button" class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase"
                                    data-toggle="modal" (click)='showPopupSaleman()'>
                                    <span>
                                        <i class="la la-plus"></i>
                                        <span>
                                            Add new
                                        </span>
                                    </span>
                                </button>
                            </div>
                        </div>

                    </div>
                    <div class="table-wrapper text-center" id="">
                        <table class="table table-striped table-brand dataTable">
                            <thead app-table-header [headers]="headerSaleman" (onClick)="sortBySaleMan($event)">
                            </thead>
                            <tbody>
                                <ng-container *ngIf="!!saleMandetail && !isLoading ;">
                                    <tr
                                        *ngFor="let sale of saleMandetail | filter : keyword : ['company','saleman_ID','service','office']; let i = index; trackBy: trackByFn">
                                        <td class="table-actions-col">
                                            <div class="table-actions" style="width: 50px">
                                                <button type="button"
                                                    class="btn btn-danger btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                    title="Remove" data-toggle="modal" (click)="deleteSaleman(i)">
                                                    <i class="la la-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                        <td>
                                            <span><a style="cursor:pointer;"
                                                    (click)="showDetailSaleMan(sale)">{{sale.saleman_ID}}</a>
                                            </span>
                                        </td>
                                        <td>
                                            <span>{{sale.service}}</span>
                                        </td>
                                        <td>
                                            <span>{{sale.office}}</span>
                                        </td>
                                        <td>
                                            <span>{{sale.company}}</span>
                                        </td>
                                        <td>
                                            <span>{{sale.status}}</span>
                                        </td>
                                        <td>
                                            <span>{{sale.modifiedDate  | date: 'dd/MM/yyyy'}}</span>
                                        </td>
                                    </tr>

                                </ng-container>
                                <tr *ngIf="!isLoading && saleMandetail.length == 0" app-table-none-record>
                                </tr>
                                <tr *ngIf="!isLoading  && !saleMandetail" app-table-none-record></tr>
                                <tr *ngIf="isLoading" app-table-row-loading></tr>
                            </tbody>
                        </table>
                    </div>
                    <!--end: Datatable -->
                </div>
            </div>
            <!--begin:: form-actions-->
            <div class="form-actions m--align-right">
                <button type="" class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase" (click)="onSubmit()">
                    <span>
                        <i class="la la la-save"></i>
                        <span>
                            save
                        </span>
                    </span>
                </button>
                <button type="button" class="btn m-btn--square m-btn--icon m-btn--uppercase"
                    routerLink="/home/catalogue/partner-data">
                    <span>
                        <i class="la la-ban"></i>
                        <span>
                            cancel
                        </span>
                    </span>
                </button>
            </div>
            <!--end:: form-actions-->
        </div>
        <!--end::Form-->
    </div>
    <!--end::m-content of Partner-data-addnew-->
</form>
<app-saleman-popup [popupData]="saleMantoView" (onCreate)="closepp($event)"></app-saleman-popup>
<confirm-popup (onSubmit)="onDeleteSaleman()" [body]="deleteMessage" [labelConfirm]="'Ok'"></confirm-popup>