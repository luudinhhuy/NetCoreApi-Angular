<form name="formAddEdit" *ngIf="partner" #formAddEdit="ngForm" novalidate (ngSubmit)="formAddEdit.form.valid">

    <!--begin:: subheader-->
    <div class="m-subheader">
        <div class="d-flex align-items-center">
            <div class="mr-auto">
                <app-breadcrumb></app-breadcrumb>
            </div>
            <div class="c-button-actions">
                <button type="" class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase" (click)="onSubmit()">
                    <span>
                        <i class="la la la-save"></i>
                        <span>
                            edit
                        </span>
                    </span>
                </button>
                <button type="button" class="btn m-btn--square m-btn--icon m-btn--uppercase"
                    routerLink="/home/catalogue/partner-data">
                    <span>
                        <i class="la la-ban"></i>
                        <span>
                            cancel
                        </span>
                    </span>
                </button>
            </div>
        </div>
    </div>
    <!--end:: subheader-->
    <!--begin::m-content of Partner-data-detail-->
    <div class="m-content">
        <!--begin::Form-->
        <div class="m-form m-form--state">
            <!--begin::m-portlet -->
            <div class="m-portlet m-portlet--danger m-portlet--head-solid-bg m-portlet--bordered">
                <div class="alert-block__heading">
                    <h3 class="alert-block__title">General Information</h3>
                </div>
                <div class="m-portlet__body">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partnerAccountNo.invalid }">
                                <label class="form-control-label" for="">
                                    Partner ID <span class="m--font-danger"></span>
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder=""
                                    name="partnerAccountNo" autocomplete="nope" minlength="3" disabled
                                    [(ngModel)]="partner.accountNo" #partnerAccountNo="ngModel"
                                    (change)="partner.accountNo = partner.taxCode.trim()"
                                    [ngClass]="{ 'm-input--square': formAddEdit.submitted && partnerAccountNo.invalid }"
                                    required>
                                <div class="form-control-feedback"
                                    *ngIf="formAddEdit.submitted && partnerAccountNo.invalid">
                                    Partner ID required least 3 characters
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && nameENFull.invalid }">
                                <label class="form-control-label" for="">
                                    Partner Name EN Full <span class="m--font-danger">(*)</span>
                                </label>
                                <input type="text" class="form-control m-input m-input--square"
                                    placeholder="Please enter Name EN Full" name="nameENFull" autofocus
                                    autocomplete="nope" minlength="3" maxlength="100"
                                    [(ngModel)]="partner.partnerNameEn" #nameENFull="ngModel"
                                    (change)="partner.partnerNameEn = partner.partnerNameEn.trim()"
                                    [ngClass]="{ 'm-input--square': formAddEdit.submitted && nameENFull.invalid }"
                                    required>
                                <div class="form-control-feedback" *ngIf="formAddEdit.submitted && nameENFull.invalid">
                                    Partner Name EN Full is required
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && nameLocalFull.invalid }">
                                <label class="form-control-label" for="">
                                    Partner Name Local Full <span class="m--font-danger">(*)</span>
                                </label>
                                <input type="text" class="form-control m-input m-input--square"
                                    placeholder="Please enter Name Local" name="nameLocalFull" autocomplete="nope"
                                    minlength="3" maxlength="100" [(ngModel)]="partner.partnerNameVn"
                                    #nameLocalFull="ngModel"
                                    (change)="partner.partnerNameVn = partner.partnerNameVn.trim()"
                                    [ngClass]="{ 'm-input--square': formAddEdit.submitted && nameLocalFull.invalid }"
                                    required>
                                <div class="form-control-feedback"
                                    *ngIf="formAddEdit.submitted && nameLocalFull.invalid">
                                    Partner Name Local Full is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && nameAbreviation.invalid }">
                                <label class="form-control-label" for="">
                                    Partner Name Abreviation <span class="m--font-danger">(*)</span>
                                </label>
                                <input type="text" class="form-control m-input m-input--square"
                                    placeholder="please enter Name Abreviation" name="nameAbreviation"
                                    autocomplete="nope" minlength="3" maxlength="100" [(ngModel)]="partner.shortName"
                                    #nameAbreviation="ngModel" (change)="partner.shortName = partner.shortName.trim()"
                                    [ngClass]="{ 'm-input--square': formAddEdit.submitted && nameAbreviation.invalid }"
                                    ecusSpecicalCharacterNoSpace required>
                                <div class="form-control-feedback"
                                    *ngIf="formAddEdit.submitted && nameAbreviation.invalid">
                                    Partner Name Abreviation is required
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partnerTaxCode.invalid }">
                                <label class="form-control-label" for="">
                                    Tax Code <span class="m--font-danger">(*)</span>
                                </label>
                                <input type="text" min="0" class="form-control m-input m-input--square"
                                    placeholder="Please enter Tax Code" autocomplete="nope" disabled
                                    name="partnerTaxCode" [(ngModel)]="partner.taxCode" #partnerTaxCode="ngModel"
                                    (change)="partner.taxCode = partner.taxCode.trim()"
                                    oninput="validity.valid||(value='');"
                                    [ngClass]="{ 'm-input--square': formAddEdit.submitted && partnerTaxCode.invalid }"
                                    required>
                                <div class="form-control-feedback"
                                    *ngIf="formAddEdit.submitted && partnerTaxCode.invalid">
                                    Partner Tax Code is required and must be number
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partner.partnerGroup == null }">
                                <label class="form-control-label" for="">
                                    Category <span class="m--font-danger">(*)</span>
                                </label>
                                <ng-select [multiple]="true" *ngIf="activeNg" [active]="partnerGroupActives"
                                    [items]="partnerGroups" (data)="refreshValue($event)"
                                    (selected)="selected($event, 'category')" (removed)="removed($event,'category')"
                                    placeholder="Select partner group">
                                </ng-select>
                                <div class="form-control-feedback"
                                    *ngIf="formAddEdit.submitted && partner.partnerGroup == null">
                                    Category is required
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--end::m-portlet -->

            <!--begin::m-portlet -->
            <div class="m-portlet m-portlet--danger m-portlet--head-solid-bg m-portlet--bordered">
                <div class="alert-block__heading">
                    <h3 class="alert-block__title">Detail Information</h3>
                </div>
                <div class="m-portlet__body">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Contact Person
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder=""
                                    name="partnerContactPerson" autocomplete="nope" [(ngModel)]="partner.contactPerson"
                                    (change)="partner.contactPerson = partner.contactPerson.trim()">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Contact Phone Number
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder=""
                                    maxlength="50" name="partnerContactNumber" autocomplete="nope"
                                    [(ngModel)]="partner.tel" (change)="partner.tel = partner.tel.trim()">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Fax No
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder=""
                                    maxlength="50" name="partnerContactFaxNo" autocomplete="nope"
                                    [(ngModel)]="partner.fax" (change)="partner.fax = partner.fax.trim()">
                            </div>
                        </div>
                    </div>
                    <div class="div-inside bg-secondary m--margin-bottom-15">
                        <h3 class="c-block-title">Billing Address</h3>
                        <hr>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="form-group"
                                            [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partner.countryId == null }">
                                            <label class="form-control-label">
                                                Country <span class="m--font-danger">(*)</span>
                                            </label>
                                            <ng-select #chooseBillingCountry [allowClear]="true" [items]="countries"
                                                (data)="refreshValue($event)"
                                                (selected)="selected($event, 'billingCountry')"
                                                (removed)="removed($event, 'billingCountry')" (typed)="typed($event)"
                                                [active]="billingCountryActive" placeholder="Select country">
                                            </ng-select>
                                            <div class="form-control-feedback"
                                                *ngIf="formAddEdit.submitted && partner.countryId == null">
                                                Country is required
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group"
                                            [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partner.provinceId == null }">
                                            <label class="form-control-label">
                                                City <span class="m--font-danger">(*)</span>
                                            </label>
                                            <ng-select #chooseBillingProvince [allowClear]="true"
                                                [items]="billingProvinces" [active]="billingProvinceActive"
                                                (data)="refreshValue($event)"
                                                (selected)="selected($event, 'billingProvince')"
                                                (removed)="removed($event, 'billingProvince')" (typed)="typed($event)"
                                                placeholder="Select city/ province">
                                            </ng-select>
                                            <div class="form-control-feedback"
                                                *ngIf="formAddEdit.submitted && partner.provinceId == null">
                                                City is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="form-group">
                                            <label class="form-control-label">
                                                Zipcode
                                            </label>
                                            <input type="text" class="form-control m-input m-input--square"
                                                placeholder="" maxlength="20" autocomplete="nope" name="billingZipcode"
                                                [(ngModel)]="partner.zipCode"
                                                (change)="partner.zipCode = partner.zipCode.trim()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && billingAddressEN.invalid }">
                                    <label class="form-control-label">
                                        Address EN <span class="m--font-danger">(*)</span>
                                    </label>
                                    <textarea class="form-control m-input m-input--square" id="" rows="6"
                                        maxlength="300" autocomplete="nope" name="billingAddressEN"
                                        [(ngModel)]="partner.addressEn"
                                        (change)="partner.addressEn = partner.addressEn.trim()"
                                        #billingAddressEN="ngModel" required></textarea>
                                    <div class="form-control-feedback"
                                        *ngIf="formAddEdit.submitted && billingAddressEN.invalid">
                                        Address EN required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && billingAddressLocal.invalid }">
                                    <label class="form-control-label">
                                        Address Local <span class="m--font-danger">(*)</span>
                                    </label>
                                    <textarea class="form-control m-input m-input--square" id="" rows="6"
                                        maxlength="300" autocomplete="nope" name="billingAddressLocal"
                                        [(ngModel)]="partner.addressVn"
                                        (change)="partner.addressVn = partner.addressVn.trim()"
                                        #billingAddressLocal="ngModel" required></textarea>
                                    <div class="form-control-feedback"
                                        *ngIf="formAddEdit.submitted && billingAddressLocal.invalid">
                                        Address Local is required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="div-inside bg-secondary">
                        <h3 class="c-block-title">Shipping Address</h3>
                        <hr>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <div class="form-group"
                                            [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partner.countryShippingId == null }">
                                            <label class="form-control-label">
                                                Country <span class="m--font-danger">(*)</span>
                                            </label>
                                            <ng-select #chooseShippingCountry [allowClear]="true" [items]="countries"
                                                [active]="shippingCountryActive" (data)="refreshValue($event)"
                                                (selected)="selected($event, 'shippingCountry')"
                                                (removed)="removed($event, 'shippingCountry')" (typed)="typed($event)"
                                                placeholder="Select country">
                                            </ng-select>
                                            <div class="form-control-feedback"
                                                *ngIf="formAddEdit.submitted && partner.countryShippingId == null">
                                                Country is required
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="form-group"
                                            [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partner.provinceShippingId == null }">
                                            <label class="form-control-label">
                                                City <span class="m--font-danger">(*)</span>
                                            </label>
                                            <ng-select #chooseShippingProvince [allowClear]="true"
                                                [items]="shippingProvinces" [active]="shippingProvinceActive"
                                                (data)="refreshValue($event)"
                                                (selected)="selected($event, 'shippingProvince')"
                                                (removed)="removed($event, 'shippingProvince')" (typed)="typed($event)"
                                                placeholder="Select province/ city">
                                            </ng-select>
                                            <div class="form-control-feedback"
                                                *ngIf="formAddEdit.submitted && partner.provinceShippingId == null">
                                                City is required
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="form-group">
                                            <label class="form-control-label">
                                                Zipcode
                                            </label>
                                            <input type="text" class="form-control m-input m-input--square"
                                                placeholder="" autocomplete="nope" name="shippingZipcode"
                                                [(ngModel)]="partner.zipCodeShipping"
                                                (change)="partner.zipCodeShipping = partner.zipCodeShipping.trim()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && shippingAddressEN.invalid }">
                                    <label class="form-control-label">
                                        Address EN <span class="m--font-danger">(*)</span>
                                    </label>
                                    <textarea class="form-control m-input m-input--square" id="" rows="6"
                                        autocomplete="nope" #shippingAddressEN="ngModel" required
                                        name="shippingAddressEN" [(ngModel)]="partner.addressShippingEn"
                                        (change)="partner.addressShippingEn = partner.addressShippingEn.trim()"></textarea>
                                    <div class="form-control-feedback"
                                        *ngIf="formAddEdit.submitted && shippingAddressEN.invalid">
                                        Address EN is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && shippingAddressVN.invalid }">
                                    <label class="form-control-label">
                                        Address Local <span class="m--font-danger">(*)</span>
                                    </label>
                                    <textarea class="form-control m-input m-input--square" id="" rows="6"
                                        autocomplete="nope" #shippingAddressVN="ngModel" required
                                        name="shippingAddressVN" [(ngModel)]="partner.addressShippingVn"
                                        [(ngModel)]="partner.addressShippingVn"
                                        (change)="partner.addressShippingVn = partner.addressShippingVn.trim()"></textarea>
                                    <div class="form-control-feedback"
                                        *ngIf="formAddEdit.submitted && shippingAddressVN.invalid">
                                        Address Local is required
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': (partner.salePersonId == null && isRequiredSaleman) }">
                                    <label class="form-control-label">
                                        Saleman <span class="m--font-danger"
                                            *ngIf="partner.salePersonId == null && isRequiredSaleman">(*)</span>
                                    </label>
                                    <ng-select #chooseSaleman [allowClear]="true" [items]="saleMans"
                                        (data)="refreshValue($event)" name="partnerSaleman"
                                        (selected)="partner.salePersonId = $event.id; selected($event, 'saleman')"
                                        [active]="salemanActive"
                                        (removed)="partner.salePersonId = null; removed($event,'saleman')"
                                        (typed)="typed($event)" placeholder="">
                                    </ng-select>
                                    <div class="form-control-feedback"
                                        *ngIf="(partner.salePersonId == null && isRequiredSaleman)">
                                        Saleman is required
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Work Phone (Ext No)
                                </label>
                                <input type="text" class="form-control m-input m-input--square" disabled placeholder=""
                                    name="employeeWorkPhone" [(ngModel)]="employee.extNo">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Personal Phone
                                </label>
                                <input type="text" class="form-control m-input m-input--square" disabled placeholder=""
                                    name="employeePhone" [(ngModel)]="employee.tel">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Email Address
                                </label>
                                <input type="text" class="form-control m-input m-input--square" disabled placeholder=""
                                    name="employeeEmail" [(ngModel)]="employee.email">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Localtion (Workplace)
                                </label>
                                <input type="text" class="form-control m-input m-input--square" disabled placeholder=""
                                    name="employeeWorkplace" [(ngModel)]="employee.workplaceAddress">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--end::m-portlet -->

            <!--begin::m-portlet -->
            <div class="m-portlet m-portlet--danger m-portlet--head-solid-bg m-portlet--bordered">
                <div class="alert-block__heading">
                    <h3 class="alert-block__title">Other Information</h3>
                </div>
                <div class="m-portlet__body">
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group"
                                [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partner.departmentId == null }">
                                <label class="form-control-label" for="">
                                    Department <span class="m--font-danger">(*)</span>
                                </label>
                                <ng-select [allowClear]="true" [items]="departments" [active]="departmentActive"
                                    (data)="refreshValue($event)" name="partnerAccountRef"
                                    (selected)="partner.departmentId = $event.id"
                                    (removed)="partner.departmentId = null" placeholder="Select filter">
                                </ng-select>
                                <div class="form-control-feedback"
                                    *ngIf="formAddEdit.submitted && partner.departmentId == null">
                                    Department is required
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    A/C Ref
                                </label>
                                <ng-select [allowClear]="true" [active]="parentCustomerActive" [items]="parentCustomers"
                                    (data)="refreshValue($event)" name="partnerAccountRef"
                                    (selected)="partner.parentId = $event.id" (removed)="partner.parentId = null"
                                    placeholder="Select A/C Ref">
                                </ng-select>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Website
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder=""
                                    autocomplete="nope" name="partnerWebsite" [(ngModel)]="partner.website"
                                    (change)="partner.website = partner.website.trim()">
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Partners Bank Account
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder=""
                                    name="partnerbankAccountNo" autocomplete="nope" [(ngModel)]="partner.bankAccountNo"
                                    (change)="partner.bankAccountNo = partner.bankAccountNo.trim()">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Bank Name
                                </label>
                                <input type="text" class="form-control m-input m-input--square" placeholder=""
                                    name="partnerBankAccountName" autocomplete="nope"
                                    [(ngModel)]="partner.bankAccountName"
                                    (change)="partner.bankAccountName = partner.bankAccountName.trim()">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Profile
                                </label>
                                <ng-select [allowClear]="true" [active]="workPlaceActive" [items]="workPlaces"
                                    (data)="refreshValue($event)" name="partnerAccountRef"
                                    (selected)="partner.workPlaceId = $event.id" (removed)="partner.workPlaceId = null"
                                    placeholder="Select filter">
                                </ng-select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-8">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label class="form-control-label" for="">
                                            Swift Code
                                        </label>
                                        <input type="text" class="form-control m-input m-input--square" placeholder=""
                                            name="partnerSwiftCode" [(ngModel)]="partner.swiftCode"
                                            (change)="partner.swiftCode = partner.swiftCode.trim()">
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label class="form-control-label" for="">
                                            Bank Address
                                        </label>
                                        <input type="text" class="form-control m-input m-input--square" placeholder=""
                                            name="partnerBankAccountAddress" autocomplete="nope"
                                            [(ngModel)]="partner.bankAccountAddress"
                                            (change)="partner.bankAccountAddress = partner.bankAccountAddress.trim()">
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <label class="col-lg-2 col-form-label form-control-label">Public</label>
                                <div class="col-lg-10">
                                    <div class="m-checkbox-inline">
                                        <label class="m-checkbox"><input type="checkbox" name="publicCheckbox"
                                                checked="checked" [checked]="partner.public"
                                                (change)="partner.public = !partner.public"><span></span></label>
                                    </div>
                                </div>
                                <!-- <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Swift Code
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square" placeholder="">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Bank Address
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square" placeholder="" name="partnerBankAccountAddress" autocomplete="nope"
                                        [(ngModel)]="partner.bankAccountAddress">
                                </div>
                            </div> -->
                            </div>
                            <div class="row">
                                <label class="col-lg-2 col-form-label form-control-label">Inactive</label>
                                <div class="col-lg-10">
                                    <div class="m-checkbox-inline">
                                        <label class="m-checkbox"><input type="checkbox" name="inactiveCheckbox"
                                                checked="checked" [checked]="partner.inactive"
                                                (change)="partner.inactive = !partner.inactive"><span></span></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label" for="">
                                    Note
                                </label>
                                <textarea class="form-control m-input m-input--square" id="" name="partnerNote"
                                    [(ngModel)]="partner.note" autocomplete="nope" rows="6"
                                    (change)="partner.note = partner.note.trim()"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--end::m-portlet -->

            <div class="m-portlet m-portlet--danger m-portlet--head-solid-bg m-portlet--bordered">
                <div class="alert-block__heading">
                    <h3 class="alert-block__title">Sale Man</h3>
                </div>
                <div class="m-portlet__body">
                    <!--begin: Datatable -->
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="form-group">
                                <div class="m-input-icon m-input-icon--right">
                                    <input type="text" class="form-control m-input m-input--square" placeholder="Search"
                                        [(ngModel)]="keyword" name=keyword>
                                    <span class="m-input-icon__icon m-input-icon__icon--right">
                                        <span>
                                            <i class="la la-search"></i>
                                        </span>
                                    </span>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-8 m--align-right">
                            <div class="form-group">
                                <button type="button" class="btn btn-success m-btn--square m-btn--icon m-btn--uppercase"
                                    data-toggle="modal" data-target="#saleman-modal">
                                    <span>
                                        <i class="la la-plus"></i>
                                        <span>
                                            add new
                                        </span>
                                    </span>
                                </button>
                            </div>
                        </div>

                    </div>
                    <div class="table-wrapper text-center" id="">
                        <table class="table table-striped table-brand dataTable">
                            <thead app-table-header [headers]="headerSaleman" (onClick)="sortBySaleMan($event)">
                            </thead>
                            <tbody>
                                <ng-container *ngIf="!!saleMandetail && !isLoading ;">
                                    <tr
                                        *ngFor="let sale of saleMandetail | filter : keyword : ['company','saleman_ID','service','office']; let i = index; trackBy: trackByFn">
                                        <td class="table-actions-col">
                                            <div class="table-actions" style="width: 50px">
                                                <button type="button"
                                                    class="btn btn-danger btn-sm m-btn--square m-btn--icon m-btn--icon-only"
                                                    title="Remove" data-toggle="modal" (click)="deleteSaleman(sale)">
                                                    <i class="la la-trash"></i>
                                                </button>
                                            </div>
                                        </td>
                                        <td>
                                            <span><a style="cursor:pointer;"
                                                    (click)="showDetailSaleMan(sale)">{{sale.saleman_ID}}</a>
                                            </span>
                                        </td>
                                        <td>
                                            <span>{{sale.service}}</span>
                                        </td>
                                        <td>
                                            <span>{{sale.office}}</span>
                                        </td>
                                        <td>
                                            <span>{{sale.company}}</span>
                                        </td>
                                        <td>
                                            <span>{{sale.status}}</span>
                                        </td>
                                        <td>
                                            <span>{{sale.modifiedDate  | date: 'dd/MM/yyyy'}}</span>
                                        </td>
                                    </tr>

                                </ng-container>
                                <tr *ngIf="!isLoading && saleMandetail.length == 0" app-table-none-record>
                                </tr>
                                <tr *ngIf="!isLoading  && !saleMandetail" app-table-none-record></tr>
                                <tr *ngIf="isLoading" app-table-row-loading></tr>
                            </tbody>
                        </table>
                    </div>
                    <!--end: Datatable -->
                    <!--begin::pagination-->
                    <div class="pagination-nav">
                        <div class="row">
                            <div class="col-sm-6">
                                <div class="tatable__pager-size">
                                    <div class="select-box">
                                        <select class="form-control" id="" aria-label="" [(ngModel)]="pageSize"
                                            (change)="selectPageSize(pageSize, dataSearchSaleman)" name="pagesize">
                                            <ng-container
                                                *ngFor="let item of numberToShow; let i = index; trackBy: trackByFn">
                                                <option [ngValue]="item">{{item}} line / screen</option>
                                            </ng-container>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-6" *ngIf="totalItems > pageSize">
                                <div class="float-right">
                                    <pagination [boundaryLinks]="true" [totalItems]="totalItems"
                                        [itemsPerPage]="pageSize" (pageChanged)="pageChanged($event)" [(ngModel)]="page"
                                        name="page">
                                    </pagination>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--end::pagination-->
                </div>
            </div>

            <!--begin:: form-actions-->
            <div class="form-actions">
                <div class="row">
                    <div class="col-6">
                        <button type="button" class="btn btn-danger m-btn--square  m-btn--icon  m-btn--uppercase"
                            data-toggle="modal" data-target="#confirm-delete-modal">
                            <span>
                                <i class="la la-trash"></i>
                                <span>
                                    Delete
                                </span>
                            </span>
                        </button>
                    </div>
                    <div class="col-6 m--align-right">
                        <button class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase" (click)="onSubmit()">
                            <span>
                                <i class="la la-save"></i>
                                <span>
                                    Edit
                                </span>
                            </span>
                        </button>
                        <button type="button" class="btn m-btn--square m-btn--icon m-btn--uppercase"
                            routerLink="/home/catalogue/partner-data">
                            <span>
                                <i class="la la-ban"></i>
                                <span>
                                    cancel
                                </span>
                            </span>
                        </button>
                    </div>
                </div>

            </div>
            <!--end:: form-actions-->
        </div>
        <!--end::Form-->
    </div>
</form>
<!--end::m-content of Partner-data-detail-->
<!--begin::confirm-delete-modal-->
<app-delete-confirm-modal (delete)="onDelete($event)" [title]="'You want to delete this Partner?'">
</app-delete-confirm-modal>
<!-- <div class="modal fade" id="confirm-delete-modal" data-backdrop="static" role="dialog" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Delete Partner</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="confirm-text-block">
                    <span>You want to delete this Partner?</span>
                </div>
            </div>
            <div class="modal-footer m--align-center c-button-actions">
                <button type="button" class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase" data-dismiss="modal"> 
                    <span>
                        <i class="la la-save"></i>
                        <span>
                            Yes
                        </span>
                    </span>
                </button>
                <button type="reset" class="btn m-btn--square m-btn--icon m-btn--uppercase" data-dismiss="modal">
                    <span>
                        <i class="la la-ban"></i>
                        <span>
                            Cancel
                        </span>
                    </span>
                </button>
            </div>
        </div>
    </div>
</div> -->
<!--end::confirm-delete-modal-->

<!--begin::saleman-->
<div class="modal fade" id="saleman-modal" data-backdrop="static" role="dialog" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <form name="formAddEdit" #formAddEdit="ngForm" novalidate (ngSubmit)="formAddEdit.form.valid">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Sale Man</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="m-form m-form--state">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && strSalemanCurrent.trim().length==0 }">
                                    <label>Sale Man <span class="m--font-danger">(*)</span></label>
                                    <app-combo-grid-virtual-scroll [selectedDisplayFields]="['username']"
                                        (itemSelected)="strSalemanCurrent=$event.username" [dataSources]="users"
                                        [displayFields]="[{'field':'username','label':'Username'},{'field':'employeeNameEn','label':'Name EN'}]">
                                    </app-combo-grid-virtual-scroll>
                                    <div class="form-control-feedback"
                                        *ngIf="formAddEdit.submitted && strSalemanCurrent.trim().length==0">
                                        Sale Man is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>Service <span class="m--font-danger">(*)</span></label>
                                    <select [(ngModel)]="selectedService" name="service" class="form-control">
                                        <option *ngFor="let service of services" [ngValue]="service">{{service.text}}
                                        </option>
                                    </select>

                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group"
                                    [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && strOfficeCurrent.trim().length==0 }">
                                    <label>Office <span class="m--font-danger">(*)</span></label>
                                    <app-combo-grid-virtual-scroll [selectedDisplayFields]="['abbrCompany']"
                                        (itemSelected)="strOfficeCurrent=$event.abbrCompany" [dataSources]="offices"
                                        [displayFields]="[{'field':'branchNameEn','label':'Name Abbr'},{'field':'abbrCompany','label':'Name Abbr'}]">
                                    </app-combo-grid-virtual-scroll>
                                    <div class="form-control-feedback"
                                        *ngIf="formAddEdit.submitted && strOfficeCurrent.trim().length==0">
                                        Office is required
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>Status <span class="m--font-danger">(*)</span></label>
                                    <select [(ngModel)]="selectedStatus" name="status" class="form-control">
                                        <option *ngFor="let status of status" [ngValue]="status">{{status.title}}
                                        </option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Effective Date
                                    </label>
                                    <div class="m-input-icon m-input-icon--right down">
                                        <input type="text" class="form-control m-input m-input--square"
                                            ngxDaterangepickerMd [autoApply]="true"
                                            [(ngModel)]="saleManToAdd.effectDate"
                                            [locale]="{applyLabel: 'ok', format: 'DD/MM/YYYY'}"
                                            [singleDatePicker]="true" name="singledater" readonly />
                                        <span class="m-input-icon__icon m-input-icon__icon--right">
                                            <span>
                                                <i class="la la-calendar"></i>
                                            </span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>Description</label>
                                    <textarea [(ngModel)]="saleManToAdd.description" name="description"
                                        class="form-control"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="modal-footer m--align-center">
                    <button type="" class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase"
                        (click)="onCreateSaleman(formAddEdit)">
                        <span>
                            <i class="la la-save"></i>
                            <span>
                                save
                            </span>
                        </span>
                    </button>
                    <button type="" class="btn m-btn--square m-btn--icon m-btn--uppercase" data-dismiss="modal"
                        style="margin-left: 10px;">
                        <span>
                            <i class="la la-ban"></i>
                            <span>
                                cancel
                            </span>
                        </span>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
<!--end::saleman-modal-->

<div class="modal fade" id="saleman-detail-modal" data-backdrop="static" role="dialog" aria-labelledby=""
    aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <form name="formDetail" #formDetail="ngForm" novalidate>
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Detail</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="m-form m-form--state">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>Sale Man</label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        [(ngModel)]="saleMantoView.saleman_ID" name="inpsaleman" readonly />

                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>Service</label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        [(ngModel)]="saleMantoView.service" name="inpservice" readonly />

                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>Office</label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        [(ngModel)]="saleMantoView.office" name="inpoffice" readonly />

                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>Status</label>
                                    <input type="text" class="form-control m-input m-input--square"
                                        [(ngModel)]="saleMantoView.statusString" name="inpstatus" readonly />
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Effective Date
                                    </label>
                                    <div class="m-input-icon m-input-icon--right down">
                                        <input type="text" class="form-control m-input m-input--square"
                                            [(ngModel)]="saleMantoView.effectDate" name="singledater" readonly />
                                        <span class="m-input-icon__icon m-input-icon__icon--right">
                                            <span>
                                                <i class="la la-calendar"></i>
                                            </span>
                                        </span>
                                    </div>
                                    <div class="m--margin-top-10 m--margin-bottom-5">
                                        <span class="m--font-bolder">Create:</span>
                                        <span
                                            class="m--font-brand m--margin-left-5">{{ saleMantoView.createDate | date: 'dd/MM/yyyy HH:mm:ss'}}</span>
                                        <span class="m--font-bolder m--margin-left-5">by</span>
                                        <span
                                            class="m--font-brand m--margin-left-5">{{saleMantoView.userCreated}}</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label>Description</label>
                                    <textarea [(ngModel)]="saleMantoView.description" name="description"
                                        class="form-control"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="modal-footer m--align-center">
                    <button type="" (click)="deleteSaleman(saleMantoView)"
                        class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase">
                        <span>
                            <i class="la la-ban"></i>
                            <span>
                                Delete
                            </span>
                        </span>
                    </button>
                    <button type="" class="btn m-btn--square m-btn--icon m-btn--uppercase" data-dismiss="modal"
                        style="margin-left: 10px;">
                        <span>
                            <i class="la la-ban"></i>
                            <span>
                                cancel
                            </span>
                        </span>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
<!--end::saleman-modal-->


<confirm-popup (onSubmit)="onDeleteSaleman()" [body]="deleteMessage" [labelConfirm]="'Ok'"></confirm-popup>