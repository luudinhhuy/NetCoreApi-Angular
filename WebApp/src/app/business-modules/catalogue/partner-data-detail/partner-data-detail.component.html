<form name="formAddEdit" *ngIf="partner" #formAddEdit="ngForm" novalidate (ngSubmit)="formAddEdit.form.valid">

<!--begin:: subheader-->
<div class="m-subheader">
    <div class="d-flex align-items-center">
        <div class="mr-auto">
            <app-breadcrumb></app-breadcrumb>
        </div>
        <div class="c-button-actions">
            <button type="button" class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase" (click)="onSubmit()">
                <span>
                    <i class="la la la-save"></i>
                    <span> 
                        edit
                    </span>
                </span>
            </button>
            <button type="button" class="btn m-btn--square m-btn--icon m-btn--uppercase" routerLink="/home/catalogue/partner-data">
                <span>
                    <i class="la la-ban"></i>
                    <span>
                        cancel
                    </span>
                </span>
            </button>
        </div>
    </div>
</div>
<!--end:: subheader-->
<!--begin::m-content of Partner-data-detail-->
<div class="m-content">
    <!--begin::Form-->
    <div class="m-form m-form--state">    
        <!--begin::m-portlet -->   
        <div class="m-portlet m-portlet--danger m-portlet--head-solid-bg m-portlet--bordered">
            <div class="alert-block__heading">
                <h3 class="alert-block__title">General Information</h3>
            </div>
            <div class="m-portlet__body">
                <div class="row">
                    <div class="col-lg-4">
                        <div class="form-group" [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partnerAccountNo.invalid }">
                            <label class="form-control-label" for="">
                                Account No 
                            </label>
                            <input type="text" class="form-control m-input m-input--square" placeholder=""  name="partnerAccountNo" autocomplete="nope" minlength="3" disabled
                             [(ngModel)]="partner.accountNo" #partnerAccountNo="ngModel" (change)="partner.accountNo = partner.taxCode.trim()" 
                             [ngClass]="{ 'm-input--square': formAddEdit.submitted && partnerAccountNo.invalid }" required >
                             <div class="form-control-feedback" *ngIf="formAddEdit.submitted && partnerAccountNo.invalid" >
                                Account No  required least 3 characters
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group" [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && nameENFull.invalid }">
                            <label class="form-control-label" for="">
                                Partner Name EN Full
                            </label>
                            <input type="text" class="form-control m-input m-input--square" placeholder="Please enter Name EN Full" name="nameENFull" autocomplete="nope" minlength="3" maxlength="100"
                                [(ngModel)]="partner.partnerNameEn" #nameENFull="ngModel" (change)="partner.partnerNameEn = partner.partnerNameEn.trim()" 
                                [ngClass]="{ 'm-input--square': formAddEdit.submitted && nameENFull.invalid }" required>
                            <div class="form-control-feedback" *ngIf="formAddEdit.submitted && nameENFull.invalid" >
                                Partner Name EN Full is required
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-4">
                        <div class="form-group" [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && nameLocalFull.invalid }">
                            <label class="form-control-label" for="">
                                Partner Name Local Full
                            </label>
                            <input type="text" class="form-control m-input m-input--square" placeholder="Please enter Name Local" name="nameLocalFull" autocomplete="nope" minlength="3" maxlength="100"
                                [(ngModel)]="partner.partnerNameVn" #nameLocalFull="ngModel" (change)="partner.partnerNameVn = partner.partnerNameVn.trim()" 
                                [ngClass]="{ 'm-input--square': formAddEdit.submitted && nameLocalFull.invalid }" required>
                            <div class="form-control-feedback" *ngIf="formAddEdit.submitted && nameLocalFull.invalid" >
                                Partner Name Local Full is required
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4">
                        <div class="form-group" [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && nameAbreviation.invalid }">
                            <label class="form-control-label" for="">
                                Partner Name Abreviation
                            </label>
                            <input type="text" class="form-control m-input m-input--square" placeholder="please enter Name Abreviation" name="nameAbreviation" autocomplete="nope" minlength="3" maxlength="10"
                                [(ngModel)]="partner.shortName" #nameAbreviation="ngModel" (change)="partner.shortName = partner.shortName.trim()" 
                                [ngClass]="{ 'm-input--square': formAddEdit.submitted && nameAbreviation.invalid }" required>
                            <div class="form-control-feedback" *ngIf="formAddEdit.submitted && nameAbreviation.invalid" >
                                Partner Name Abreviation is required
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group" [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partnerTaxCode.invalid }">
                            <label class="form-control-label" for="">
                                Tax Code
                            </label>
                            <input type="text" class="form-control m-input m-input--square" placeholder="Please enter Tax Code" autocomplete="nope" minlength="3" maxlength="100"
                                name="partnerTaxCode"  [(ngModel)]="partner.taxCode" #partnerTaxCode="ngModel" (change)="partner.taxCode = partner.taxCode.trim()" 
                                [ngClass]="{ 'm-input--square': formAddEdit.submitted && partnerTaxCode.invalid }" required>
                            <div class="form-control-feedback" *ngIf="formAddEdit.submitted && partnerTaxCode.invalid" >
                                Partner Tax Code is required
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-lg-4">
                        <div class="form-group" [ngClass]="{ 'm-form__group has-danger': formAddEdit.submitted && partner.partnerGroup == null }">
                            <label class="form-control-label" for="">
                                Category
                            </label>
                            <ng-select [multiple]="true" *ngIf="activeNg" [active]="partnerGroupActives" [items]="partnerGroups" [disabled]="disabled" (data)="refreshValue($event)"
                                (selected)="selected($event, 'category')" (removed)="removed($event,'category')" placeholder="Select partner group">
                            </ng-select>
                            <div class="form-control-feedback" *ngIf="formAddEdit.submitted && partner.partnerGroup == null" >
                                Category is required
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--end::m-portlet --> 

        <!--begin::m-portlet -->   
        <div class="m-portlet m-portlet--danger m-portlet--head-solid-bg m-portlet--bordered">
            <div class="alert-block__heading">
                <h3 class="alert-block__title">Detail Information</h3>
            </div>
            <div class="m-portlet__body">
                <div class="row">
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                Contact Person
                            </label>
                            <input type="text" class="form-control m-input m-input--square" placeholder="" name="partnerContactPerson" autocomplete="nope"
                                [(ngModel)]="partner.contactPerson" (change)="partner.contactPerson = partner.contactPerson.trim()">
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                Contact Phone Number
                            </label>
                            <input type="text" class="form-control m-input m-input--square" placeholder="" maxlength="50" name="partnerContactNumber" autocomplete="nope"
                            [(ngModel)]="partner.tel" (change)="partner.tel = partner.tel.trim()">
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                Fax No
                            </label>
                            <input type="text" class="form-control m-input m-input--square" placeholder="" maxlength="50" name="partnerContactFaxNo" autocomplete="nope"
                            [(ngModel)]="partner.fax" (change)="partner.fax = partner.fax.trim()">
                        </div>
                    </div>
                </div>
                <div class="div-inside bg-secondary m--margin-bottom-15">
                    <h3 class="c-block-title">Billing Address</h3>
                    <hr>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label class="form-control-label">
                                            Country
                                        </label>
                                        <ng-select #chooseBillingCountry [allowClear]="true" [items]="countries" [active]="billingCountryActive==null?[]:[billingCountryActive]" [disabled]="disabled" (data)="refreshValue($event)" 
                                            (selected)="selected($event, 'billingCountry')" (removed)="removed($event, 'billingCountry')" (typed)="typed($event)"
                                            [active]="billingCountryActive==null?[]:[billingCountryActive]"
                                            placeholder="Select country">
                                        </ng-select>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label class="form-control-label">
                                            City
                                        </label>
                                        <ng-select #chooseBillingProvince [allowClear]="true" [items]="billingProvinces" [active]="billingProvinceActive==null?[]:[billingProvinceActive]" [disabled]="disabled" (data)="refreshValue($event)"
                                            (selected)="selected($event, 'billingProvince')" (removed)="removed($event, 'billingProvince')" (typed)="typed($event)"
                                            [active]="billingProvinceActive==null?[]:[billingProvinceActive]"
                                            placeholder="Select city/ province">
                                        </ng-select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="form-group">
                                        <label class="form-control-label">
                                            Zipcode
                                        </label>
                                        <input type="text" class="form-control m-input m-input--square" placeholder="" maxlength="20" autocomplete="nope"
                                            name="billingZipcode" [(ngModel)]="partner.zipCode" (change)="partner.zipCode = partner.zipCode.trim()">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label">
                                    Address EN
                                </label>
                                <textarea  class="form-control m-input m-input--square" id=""  name="" rows="6" maxlength="300" autocomplete="nope"
                                    name="billingAddressEN" [(ngModel)]="partner.addressEn" (change)="partner.addressEn = partner.addressEn.trim()"
                                ></textarea>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label">
                                    Address Local
                                </label>
                                <textarea  class="form-control m-input m-input--square" id=""  name="" rows="6" maxlength="300" autocomplete="nope"
                                    name="billingAddressLocal" [(ngModel)]="partner.addressVn" (change)="partner.addressVn = partner.addressVn.trim()"
                                ></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="div-inside bg-secondary">
                    <h3 class="c-block-title">Shipping Address</h3>
                    <hr>
                    <div class="row">
                        <div class="col-lg-4">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label class="form-control-label">
                                            Country
                                        </label>
                                        <ng-select #chooseShippingCountry [allowClear]="true" [items]="countries" [active]="shippingCountryActive==null?[]:[shippingCountryActive]" [disabled]="disabled" (data)="refreshValue($event)"
                                            (selected)="selected($event, 'shippingCountry')" (removed)="removed($event, 'shippingCountry')" (typed)="typed($event)"
                                            placeholder="Select country">
                                        </ng-select>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label class="form-control-label">
                                            City
                                        </label>
                                        <ng-select #chooseShippingProvince [allowClear]="true" [items]="shippingProvinces" [active]="shippingProvinceActive==null?[]:[shippingProvinceActive]" [disabled]="disabled" (data)="refreshValue($event)"
                                            (selected)="selected($event, 'shippingProvince')" (removed)="removed($event, 'shippingProvince')" (typed)="typed($event)"
                                            placeholder="Select province/ city">
                                        </ng-select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="form-group">
                                        <label class="form-control-label">
                                            Zipcode
                                        </label>
                                        <input type="text" class="form-control m-input m-input--square" placeholder="" autocomplete="nope"
                                            name="shippingZipcode" [(ngModel)]="partner.zipCodeShipping" (change)="partner.zipCodeShipping = partner.zipCodeShipping.trim()">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label">
                                    Address EN
                                </label>
                                <textarea  class="form-control m-input m-input--square" id=""  name="" rows="6" autocomplete="nope"
                                    name="shippingAddressEN" [(ngModel)]="partner.addressShippingEn" (change)="partner.addressShippingEn = partner.addressShippingEn.trim()"></textarea>
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="form-group">
                                <label class="form-control-label">
                                    Address Local
                                </label>
                                <textarea  class="form-control m-input m-input--square" id=""  name="" rows="6" autocomplete="nope"
                                name="shippingAddressVN" [(ngModel)]="partner.addressShippingVn" (change)="partner.addressShippingVn = partner.addressShippingVn.trim()"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4">
                        <div class="form-group">
                            <div class="form-group" [ngClass]="{ 'm-form__group has-danger': (partner.salePersonId == null && isRequiredSaleman) }">
                                <label class="form-control-label">
                                    Saleman
                                </label>
                                <ng-select [allowClear]="true" [items]="saleMans" [active]="salemanActive==null?[]:[salemanActive]" [disabled]="disabled" (data)="refreshValue($event)" name="partnerSaleman"
                                    (selected)="selected($event, 'saleman')" (removed)="removed($event, 'saleman')" (typed)="typed($event)"
                                    placeholder="">
                                </ng-select>
                                <div class="form-control-feedback" *ngIf="(partner.salePersonId == null && isRequiredSaleman)" >
                                    Saleman is required
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                Work Phone (Ext No)
                            </label>
                            <input type="text" class="form-control m-input m-input--square" disabled placeholder="" name="employeeWorkPhone" [(ngModel)]="employee.extNo">
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                Personal Phone
                            </label>
                            <input type="text" class="form-control m-input m-input--square" disabled placeholder="" name="employeePhone" [(ngModel)]="employee.tel">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                Email Address
                            </label>
                            <input type="text" class="form-control m-input m-input--square" disabled placeholder="" name="employeeEmail" [(ngModel)]="employee.email">
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                Localtion (Workplace)
                            </label>
                            <input type="text" class="form-control m-input m-input--square" disabled placeholder="" name="employeeWorkplace" [(ngModel)]="employee.workplaceAddress">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--end::m-portlet --> 

        <!--begin::m-portlet -->   
        <div class="m-portlet m-portlet--danger m-portlet--head-solid-bg m-portlet--bordered">
            <div class="alert-block__heading">
                <h3 class="alert-block__title">Other Information</h3>
            </div>
            <div class="m-portlet__body">
                <div class="row">
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                Department
                            </label>
                            <ng-select [allowClear]="true" [items]="departments" [active]="departmentActive==null?[]:[departmentActive]" [disabled]="disabled" (data)="refreshValue($event)" name="partnerAccountRef"
                                (selected)="selected($event, 'department')" (removed)="removed($event,'department')" placeholder="Select filter">
                            </ng-select>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                A/C Ref
                            </label>
                            <ng-select [allowClear]="true" [active]="parentCustomerActive==null?[]:[parentCustomerActive]" [items]="parentCustomers" [disabled]="disabled" (data)="refreshValue($event)" name="partnerAccountRef"
                                (selected)="selected($event, 'accountRef')" (removed)="removed($event)" placeholder="Select A/C Ref">
                            </ng-select>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                Website
                            </label>
                            <input type="text" class="form-control m-input m-input--square" placeholder="" autocomplete="nope"
                            name="partnerWebsite"  [(ngModel)]="partner.website">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                Partners Bank Account
                            </label>
                            <input type="text" class="form-control m-input m-input--square" placeholder="" name="partnerbankAccountNo" autocomplete="nope"
                                [(ngModel)]="partner.bankAccountNo">
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                Bank Name
                            </label>
                            <input type="text" class="form-control m-input m-input--square" placeholder="" name="partnerBankAccountName" autocomplete="nope"
                                [(ngModel)]="partner.bankAccountName">
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                Profile
                            </label>
                            <ng-select [allowClear]="true" [active]="workPlaceActive==null?[]:[workPlaceActive]" [items]="workPlaces" [disabled]="disabled" (data)="refreshValue($event)" name="partnerAccountRef"
                                (selected)="selected($event, 'workplace')" (removed)="removed($event)" placeholder="Select filter">
                            </ng-select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-8">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Swift Code
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square" placeholder="" name="partnerSwiftCode"
                                        [(ngModel)]="partner.swiftCode">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Bank Address
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square" placeholder="" name="partnerBankAccountAddress" autocomplete="nope"
                                        [(ngModel)]="partner.bankAccountAddress">
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                                <label class="col-lg-2 col-form-label form-control-label">Public</label>
                                <div class="col-lg-10">
                                    <div class="m-checkbox-inline">
                                        <label class="m-checkbox"><input type="checkbox" checked="checked" [checked]="partner.public" (change)="partner.public = !partner.public"><span></span></label> 
                                    </div>
                                </div>
                            <!-- <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Swift Code
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square" placeholder="">
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-control-label" for="">
                                        Bank Address
                                    </label>
                                    <input type="text" class="form-control m-input m-input--square" placeholder="" name="partnerBankAccountAddress" autocomplete="nope"
                                        [(ngModel)]="partner.bankAccountAddress">
                                </div>
                            </div> -->
                        </div>
                        <div class="row">
                            <label class="col-lg-2 col-form-label form-control-label">Inactive</label>
                            <div class="col-lg-10">
                                <div class="m-checkbox-inline">
                                    <label class="m-checkbox"><input type="checkbox" checked="checked" [checked]="partner.inactive" (change)="partner.public = !partner.public"><span></span></label> 
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="form-group">
                            <label class="form-control-label" for="">
                                Note
                            </label>
                            <textarea  class="form-control m-input m-input--square" id=""  name="partnerNote" [(ngModel)]="partner.note" autocomplete="nope" rows="6"></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--end::m-portlet --> 

        <!--begin:: form-actions-->
        <div class="form-actions">
          <div class="row">
            <div class="col-6">
                <button type="button" class="btn btn-danger m-btn--square  m-btn--icon  m-btn--uppercase" data-toggle="modal" data-target="#confirm-delete-modal">
                    <span>
                        <i class="la la-trash"></i>
                        <span> 
                            Delete
                        </span>
                    </span>
                </button>
            </div>
            <div class="col-6 m--align-right">
                <button type="button" class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase" (click)="onSubmit()">
                    <span>
                        <i class="la la-save"></i>
                        <span> 
                            Edit
                        </span>
                    </span>
                </button>
                <button type="button" class="btn m-btn--square m-btn--icon m-btn--uppercase" routerLink="/home/catalogue/partner-data">
                    <span>
                        <i class="la la-ban"></i>
                        <span>
                            cancel
                        </span>
                    </span>
                </button>
            </div>
          </div>
            
        </div>
        <!--end:: form-actions-->
    </div>
    <!--end::Form-->
</div>
</form>
<!--end::m-content of Partner-data-detail-->
<!--begin::confirm-delete-modal-->
<app-delete-confirm-modal (delete)="onDelete($event)" [title]="titleConfirmDelete"></app-delete-confirm-modal>
<!-- <div class="modal fade" id="confirm-delete-modal" data-backdrop="static" role="dialog" aria-labelledby="" aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Delete Partner</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="confirm-text-block">
                    <span>You want to delete this Partner?</span>
                </div>
            </div>
            <div class="modal-footer m--align-center c-button-actions">
                <button type="button" class="btn btn-brand m-btn--square m-btn--icon m-btn--uppercase" data-dismiss="modal"> 
                    <span>
                        <i class="la la-save"></i>
                        <span>
                            Yes
                        </span>
                    </span>
                </button>
                <button type="reset" class="btn m-btn--square m-btn--icon m-btn--uppercase" data-dismiss="modal">
                    <span>
                        <i class="la la-ban"></i>
                        <span>
                            Cancel
                        </span>
                    </span>
                </button>
            </div>
        </div>
    </div>
</div> -->
<!--end::confirm-delete-modal-->